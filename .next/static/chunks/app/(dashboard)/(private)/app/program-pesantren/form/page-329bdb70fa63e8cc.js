(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6294],{37906:(a,e,t)=>{Promise.resolve().then(t.bind(t,16267))},16267:(a,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>m});var r=t(95155),l=t(12115),n=t(76046),o=t(64665),i=t(63551),d=t(42479),s=t(91068),u=t(69606),p=t(81638),c=t(87466),v=t(96063);let h={values:[{label:"Bahasa",value:"Bahasa"},{label:"Quran",value:"Quran"},{label:"Ibadah",value:"Ibadah"},{label:"Kepemimpinan",value:"Kepemimpinan"},{label:"Lainnya",value:"Lainnya"}]},f={values:[{label:"Ya",value:"Ya"},{label:"Tidak",value:"Tidak"}]},m=()=>{let a=(0,n.useRouter)(),e=(0,n.useSearchParams)(),t=e.get("id"),m=e.get("view"),g=(0,p.j)(),y=(0,p.G)(a=>a.program_pesantren),b={tipe_program:{value:"Bahasa",label:"Bahasa"},nama_program:"",wajib:1,aktif:{value:"Ya",label:"Ya"}},[k,_]=(0,l.useState)(b),[w,A]=(0,l.useState)(!1),{control:P,handleSubmit:j,formState:{errors:S},reset:z}=(0,u.mN)({defaultValues:b});(0,l.useEffect)(()=>{t&&g((0,c.pQ)(t)).then(a=>{var e;let t={...null==a?void 0:null===(e=a.payload)||void 0===e?void 0:e.data};t&&(t.aktif=f.values.find(a=>a.value===t.aktif),t.tipe_program=h.values.find(a=>a.value===t.tipe_program),_(t),z(t))})},[g,z]),(0,l.useEffect)(()=>{y.crud&&(y.crud.status?(s.oR.success("Success saved"),C()):(s.oR.error("Error saved: "+y.crud.message),A(!1)))},[y]);let C=()=>{g((0,c.EG)()),a.replace("/app/program-pesantren/list")};return(0,r.jsxs)(o.default,{children:[(0,r.jsx)(i.default,{title:"Form Program Pesantren"}),(0,r.jsx)(d.default,{children:(0,r.jsx)("form",{onSubmit:j(()=>{w||(A(!0),t?g((0,c.YP)({id:t,param:{...k,aktif:k.aktif.value,tipe_program:k.tipe_program.value,wajib:k.wajib?1:0}})):g((0,c.dC)({...k,aktif:k.aktif.value,tipe_program:k.tipe_program.value,wajib:k.wajib?1:0})))}),autoComplete:"off",children:(0,v.v$)({control:P,errors:S,state:k,setState:_,fields:[(0,v.ZZ)({type:"select",key:"tipe_program",label:"Tipe Program",placeholder:"Pilih Tipe Program",required:!0,options:h,readOnly:!!m}),(0,v.ZZ)({type:"text",key:"nama_program",label:"Nama Program",placeholder:"Input Nama Program",required:!0,readOnly:!!m}),(0,v.ZZ)({type:"checkbox",key:"wajib",label:"Wajib",placeholder:"Pilih Wajib",required:!0,readOnly:!!m}),(0,v.ZZ)({type:"select",key:"aktif",label:"Aktif",placeholder:"Pilih Aktif",required:!0,options:f,readOnly:!!m}),(0,v.Jw)({onCancel:C,loading:w,disabled:!!m})]})})})]})}},87466:(a,e,t)=>{"use strict";t.d(e,{Ay:()=>f,EG:()=>h,YP:()=>p,cO:()=>d,dC:()=>u,eE:()=>c,pQ:()=>s});var r=t(48943),l=t(82651),n=t(2615);let o={dataPage:{values:[],total:0},data:{},datas:[],crud:null,delete:null},i=(0,r.zD)("program-pesantren/fetchAll",async(a,e)=>{let t=await (0,n.getSession)();try{return(await l.A.get("".concat("http://103.197.190.47:5001","/app/program-pesantren/all-data"),{headers:{Authorization:"Bearer ".concat(null==t?void 0:t.access_token)},params:a})).data}catch(a){var r;return e.fulfillWithValue(null===(r=a.response)||void 0===r?void 0:r.data)}}),d=(0,r.zD)("program-pesantren/fetchPage",async(a,e)=>{let t=await (0,n.getSession)();try{return(await l.A.get("".concat("http://103.197.190.47:5001","/app/program-pesantren"),{headers:{Authorization:"Bearer ".concat(null==t?void 0:t.access_token)},params:a})).data}catch(a){var r;return e.fulfillWithValue(null===(r=a.response)||void 0===r?void 0:r.data)}}),s=(0,r.zD)("program-pesantren/fetchById",async(a,e)=>{let t=await (0,n.getSession)();try{return(await l.A.get("".concat("http://103.197.190.47:5001","/app/program-pesantren/").concat(a),{headers:{Authorization:"Bearer ".concat(null==t?void 0:t.access_token)}})).data}catch(a){var r;return e.fulfillWithValue(null===(r=a.response)||void 0===r?void 0:r.data)}}),u=(0,r.zD)("program-pesantren/create",async(a,e)=>{let t=await (0,n.getSession)();try{return(await l.A.post("".concat("http://103.197.190.47:5001","/app/program-pesantren"),a,{headers:{Authorization:"Bearer ".concat(null==t?void 0:t.access_token)}})).data}catch(a){var r;return e.fulfillWithValue(null===(r=a.response)||void 0===r?void 0:r.data)}}),p=(0,r.zD)("program-pesantren/update",async(a,e)=>{let{id:t,param:r}=a,o=await (0,n.getSession)();try{return(await l.A.put("".concat("http://103.197.190.47:5001","/app/program-pesantren/").concat(t),r,{headers:{Authorization:"Bearer ".concat(null==o?void 0:o.access_token)}})).data}catch(a){var i;return e.fulfillWithValue(null===(i=a.response)||void 0===i?void 0:i.data)}}),c=(0,r.zD)("program-pesantren/delete",async(a,e)=>{let t=await (0,n.getSession)();try{return(await l.A.delete("".concat("http://103.197.190.47:5001","/app/program-pesantren/").concat(a),{headers:{Authorization:"Bearer ".concat(null==t?void 0:t.access_token)}})).data}catch(a){var r;return e.fulfillWithValue(null===(r=a.response)||void 0===r?void 0:r.data)}}),v=(0,r.Z0)({name:"program_pesantren",initialState:o,reducers:{resetRedux:()=>o},extraReducers:a=>{a.addCase(i.fulfilled,(a,e)=>{a.datas=e.payload.data||[]}),a.addCase(d.fulfilled,(a,e)=>{var t,r;a.dataPage={values:(null===(t=e.payload.data)||void 0===t?void 0:t.values)||[],total:(null===(r=e.payload.data)||void 0===r?void 0:r.total)||0}}),a.addCase(s.fulfilled,(a,e)=>{a.data=e.payload.data}),a.addCase(c.fulfilled,(a,e)=>{a.delete=e.payload.message}),a.addCase(u.fulfilled,(a,e)=>{a.crud=e.payload}),a.addCase(p.fulfilled,(a,e)=>{a.crud=e.payload})}}),{resetRedux:h}=v.actions,f=v.reducer}},a=>{var e=e=>a(a.s=e);a.O(0,[5099,275,5004,277,5876,777,5273,2295,9892,2806,2598,6874,6403,6298,5181,9905,3784,9234,9668,9639,545,2615,505,2651,1019,790,9606,1829,8235,7643,3126,8441,1517,7358],()=>e(37906)),_N_E=a.O()}]);