(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8756],{75128:(e,a,t)=>{Promise.resolve().then(t.bind(t,3595))},3595:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>v});var s=t(95155),r=t(12115),l=t(76046),i=t(64665),o=t(63551),n=t(42479),d=t(91068),u=t(69606),c=t(81638),p=t(63850),h=t(96063);let f={values:[{label:"Aktif",value:"Aktif"},{label:"Nonaktif",value:"Nonaktif"}]},v=()=>{let e=(0,l.useRouter)(),a=(0,l.useSearchParams)(),t=a.get("id"),v=a.get("view"),w=(0,c.j)(),y=(0,c.G)(e=>e.jenis_beasiswa),g={kode_beasiswa:"",nama_beasiswa:"",keterangan:"",status:{value:"Aktif",label:"Aktif"}},[b,m]=(0,r.useState)(g),[j,k]=(0,r.useState)(!1),{control:_,handleSubmit:A,formState:{errors:z},setValue:L,reset:S}=(0,u.mN)({defaultValues:g});(0,r.useEffect)(()=>{t&&w((0,p.Px)(t)).then(e=>{var a;let t={...null==e?void 0:null===(a=e.payload)||void 0===a?void 0:a.data};t&&(t.status=f.values.find(e=>e.value===t.status),m(t),S(t))})},[w,S]),(0,r.useEffect)(()=>{y.crud&&(y.crud.status?(d.oR.success("Success saved"),x()):(d.oR.error("Error saved: "+y.crud.message),k(!1)))},[y]);let x=()=>{w((0,p.EG)()),e.replace("/app/jenis-beasiswa/list")};return(0,s.jsxs)(i.default,{children:[(0,s.jsx)(o.default,{title:"Form Jenis Beasiswa"}),(0,s.jsx)(n.default,{children:(0,s.jsx)("form",{onSubmit:A(()=>{j||(k(!0),t?w((0,p._E)({id:t,param:{...b,status:b.status.value}})):w((0,p.Vs)({...b,status:b.status.value})))}),autoComplete:"off",children:(0,h.v$)({control:_,errors:z,state:b,setState:m,fields:[(0,h.ZZ)({type:"text",key:"kode_beasiswa",label:"Kode Beasiswa",placeholder:"Input Kode Beasiswa",required:!0,readOnly:!!v,options:{onChange(e){L("kode_beasiswa",e.trim()),m(a=>({...a,kode_beasiswa:e.trim()}))}}}),(0,h.ZZ)({type:"text",key:"nama_beasiswa",label:"Nama Beasiswa",placeholder:"Input Nama Beasiswa",required:!0,readOnly:!!v}),(0,h.ZZ)({type:"textarea",key:"keterangan",label:"Keterangan",placeholder:"Input Keterangan",required:!1,readOnly:!!v}),(0,h.ZZ)({type:"select",key:"status",label:"Status",placeholder:"Pilih Status",required:!0,options:f,readOnly:!!v}),(0,h.Jw)({onCancel:x,loading:j,disabled:!!v})]})})})]})}},63850:(e,a,t)=>{"use strict";t.d(a,{Ay:()=>y,EG:()=>w,Od:()=>n,Px:()=>d,RU:()=>f,Vs:()=>u,YC:()=>p,_E:()=>c});var s=t(48943),r=t(2615),l=t(83197);let i={dataPage:{values:[],total:0},data:{},datas:[],crud:null,delete:null,import:null,export:null},o=(0,s.zD)("jenis-beasiswa/fetchAll",async(e,a)=>{let t=await (0,r.getSession)();try{return(await l.A.get("/app/jenis-beasiswa/all-data",{headers:{Authorization:"Bearer ".concat(null==t?void 0:t.access_token)},params:e})).data}catch(e){var s;return a.fulfillWithValue(null===(s=e.response)||void 0===s?void 0:s.data)}}),n=(0,s.zD)("jenis-beasiswa/fetchPage",async(e,a)=>{let t=await (0,r.getSession)();try{return(await l.A.get("/app/jenis-beasiswa",{headers:{Authorization:"Bearer ".concat(null==t?void 0:t.access_token)},params:e})).data}catch(e){var s;return a.fulfillWithValue(null===(s=e.response)||void 0===s?void 0:s.data)}}),d=(0,s.zD)("jenis-beasiswa/fetchById",async(e,a)=>{let t=await (0,r.getSession)();try{return(await l.A.get("/app/jenis-beasiswa/".concat(e),{headers:{Authorization:"Bearer ".concat(null==t?void 0:t.access_token)}})).data}catch(e){var s;return a.fulfillWithValue(null===(s=e.response)||void 0===s?void 0:s.data)}}),u=(0,s.zD)("jenis-beasiswa/create",async(e,a)=>{let t=await (0,r.getSession)();try{return(await l.A.post("/app/jenis-beasiswa",e,{headers:{Authorization:"Bearer ".concat(null==t?void 0:t.access_token)}})).data}catch(e){var s;return a.fulfillWithValue(null===(s=e.response)||void 0===s?void 0:s.data)}}),c=(0,s.zD)("jenis-beasiswa/update",async(e,a)=>{let{id:t,param:s}=e,i=await (0,r.getSession)();try{return(await l.A.put("/app/jenis-beasiswa/".concat(t),s,{headers:{Authorization:"Bearer ".concat(null==i?void 0:i.access_token)}})).data}catch(e){var o;return a.fulfillWithValue(null===(o=e.response)||void 0===o?void 0:o.data)}}),p=(0,s.zD)("jenis-beasiswa/delete",async(e,a)=>{let t=await (0,r.getSession)();try{return(await l.A.delete("/app/jenis-beasiswa/".concat(e),{headers:{Authorization:"Bearer ".concat(null==t?void 0:t.access_token)}})).data}catch(e){var s;return a.fulfillWithValue(null===(s=e.response)||void 0===s?void 0:s.data)}}),h=(0,s.zD)("jenis-beasiswa/import",async(e,a)=>{try{return(await l.A.post("/app/jenis-beasiswa/import",e)).data}catch(e){var t;return a.fulfillWithValue(null===(t=e.response)||void 0===t?void 0:t.data)}}),f=(0,s.zD)("jenis-beasiswa/export",async(e,a)=>{try{return(await l.A.post("/app/jenis-beasiswa/export",e)).data}catch(e){var t;return a.fulfillWithValue(null===(t=e.response)||void 0===t?void 0:t.data)}}),v=(0,s.Z0)({name:"jenis_beasiswa",initialState:i,reducers:{resetRedux:()=>i},extraReducers:e=>{e.addCase(o.fulfilled,(e,a)=>{e.datas=a.payload.data||[]}),e.addCase(n.fulfilled,(e,a)=>{var t,s;e.dataPage={values:(null===(t=a.payload.data)||void 0===t?void 0:t.values)||[],total:(null===(s=a.payload.data)||void 0===s?void 0:s.total)||0}}),e.addCase(d.fulfilled,(e,a)=>{e.data=a.payload.data}),e.addCase(p.fulfilled,(e,a)=>{e.delete=a.payload.message}),e.addCase(u.fulfilled,(e,a)=>{e.crud=a.payload}),e.addCase(c.fulfilled,(e,a)=>{e.crud=a.payload}),e.addCase(h.fulfilled,(e,a)=>{e.import=a.payload}),e.addCase(f.fulfilled,(e,a)=>{e.export=a.payload})}}),{resetRedux:w}=v.actions,y=v.reducer},83197:(e,a,t)=>{"use strict";t.d(a,{A:()=>u});var s=t(82651),r=t(2615),l=t(68411);let i=s.A.create({baseURL:"http://103.197.190.47:5001"}),o=!1,n=[];i.defaults.showLoading=!0;let d=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.forEach(t=>{e?t.reject(e):t.resolve(a)}),n=[]};i.interceptors.request.use(async e=>{var a;let t=await (0,r.getSession)();return(null==t?void 0:t.access_token)&&(e.headers.Authorization="Bearer ".concat(t.access_token)),(null!==(a=e.showLoading)&&void 0!==a?a:i.defaults.showLoading)&&(l.L.start(),l.L.progress(10)),e}),i.interceptors.response.use(e=>{var a;return(null!==(a=e.config.showLoading)&&void 0!==a?a:i.defaults.showLoading)&&(l.L.progress(100),setTimeout(()=>{l.L.stop(),l.L.progress(0)},300)),e},async e=>{var a,t;let s=e.config;if((null!==(t=s.showLoading)&&void 0!==t?t:i.defaults.showLoading)&&(l.L.stop(),l.L.progress(0)),(null===(a=e.response)||void 0===a?void 0:a.status)===401&&!s._retry){if(o)return new Promise((e,a)=>{n.push({resolve:e,reject:a})}).then(e=>(s.headers.Authorization="Bearer ".concat(e),i(s))).catch(e=>Promise.reject(e));s._retry=!0,o=!0;try{let a=await fetch("/api/auth/refresh",{method:"GET"}),t=await a.json();if((null==t?void 0:t.error)==="RefreshAccessTokenError")return(0,r.signOut)(),Promise.reject(e);let l=null==t?void 0:t.access_token;return d(null,l),o=!1,s.headers.Authorization="Bearer ".concat(l),i(s)}catch(e){return d(e,null),o=!1,(0,r.signOut)(),Promise.reject(e)}}return Promise.reject(e)});let u=i},68411:(e,a,t)=>{"use strict";t.d(a,{L:()=>i});let s=[],r=[],l=0,i={subscribe:e=>(s.push(e),()=>{s=s.filter(a=>a!==e)}),emit(e){s.forEach(a=>a(e))},start(){l++,this.emit(!0)},stop(){--l<=0&&(l=0,this.emit(!1))},onProgress:e=>(r.push(e),()=>{r=r.filter(a=>a!==e)}),progress(e){r.forEach(a=>a(e))}}}},e=>{var a=a=>e(e.s=a);e.O(0,[5099,275,5004,277,5876,777,5273,2295,9892,2806,2598,6874,6403,6298,5181,9905,3784,9234,9668,9639,545,2615,505,2651,1019,790,9606,1829,8235,7643,3126,8441,1517,7358],()=>a(75128)),_N_E=e.O()}]);