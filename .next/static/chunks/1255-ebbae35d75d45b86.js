(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1255],{21255:(e,t,l)=>{Promise.resolve().then(l.bind(l,9062))},53482:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>o});var a=l(95155),s=l(12115),i=l(29532),r=l(89142),n=l(39793);let c=(0,r.Ay)(i.default)(e=>{let{skin:t,color:l,size:a,theme:s}=e;return{...l&&"light"===t&&{backgroundColor:"var(--mui-palette-".concat(l,"-lightOpacity)"),color:"var(--mui-palette-".concat(l,"-main)")},...l&&"light-static"===t&&{backgroundColor:(0,n.a)(s.palette[l].main,.84),color:"var(--mui-palette-".concat(l,"-main)")},...l&&"filled"===t&&{backgroundColor:"var(--mui-palette-".concat(l,"-main)"),color:"var(--mui-palette-".concat(l,"-contrastText)")},...a&&{height:a,width:a}}}),o=(0,s.forwardRef)((e,t)=>{let{color:l,skin:s="filled",...i}=e;return(0,a.jsx)(c,{color:l,skin:s,ref:t,...i})})},30239:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var a=l(95155);l(12115);var s=l(49234);let i=(0,l(89142).Ay)(s.default)(e=>{let{round:t}=e;return{..."true"===t&&{borderRadius:500}}}),r=e=>(0,a.jsx)(i,{...e})},37386:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>r});var a=l(2295),s=l(89142),i=l(45925);let r=(0,s.Ay)(a.default)(e=>{let{color:t,size:l,theme:a,variant:s}=e;return{minInlineSize:0,transition:"none",..."small"===l?{fontSize:"20px",padding:a.spacing("outlined"===s?1:1.25),"& i, & svg":{fontSize:"inherit"}}:{..."large"===l?{fontSize:"24px",padding:a.spacing("outlined"===s?2.75:3),"& i, & svg":{fontSize:"inherit"}}:{fontSize:"22px",padding:a.spacing("outlined"===s?1.75:2),"& i, & svg":{fontSize:"inherit"}}},...!t&&{color:"var(--mui-palette-action-active)","&:not(.Mui-disabled):hover, &:not(.Mui-disabled):active":{backgroundColor:"rgb(var(--mui-palette-text-primaryChannel) / 0.08)"},...i.A.disableRipple&&{"&.Mui-focusVisible:not(.Mui-disabled)":{backgroundColor:"rgb(var(--mui-palette-text-primaryChannel) / 0.08)"}},"&.Mui-disabled":{opacity:.45,color:"var(--mui-palette-action-active)"},..."outlined"===s&&{border:"none !important",..."small"===l?{padding:a.spacing(1.25)}:{..."large"===l?{padding:a.spacing(3)}:{padding:a.spacing(2)}}},..."contained"===s&&{boxShadow:"none !important",backgroundColor:"transparent"},..."tonal"===s&&{backgroundColor:"transparent"}}}})},23641:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>N});var a=l(95155),s=l(12115),i=l(48173),r=l.n(i),n=l(72926),c=l(68998),o=l(56860),d=l(91888),x=l(58146),m=l(50525),u=l(49883),p=l(78562),f=l(894),h=l(2241),j=l(4617),b=l.n(j),g=l(8175);let v=e=>{let{tooltipProps:t,children:l}=e;return(null==t?void 0:t.title)?(0,a.jsx)(n.default,{...t,children:l}):l},y=e=>{let{children:t,option:l}=e;return l.href?(0,a.jsx)(c.A,{component:r(),href:l.href,...l.linkProps,children:t}):(0,a.jsx)(a.Fragment,{children:t})},N=e=>{let{tooltipProps:t,icon:l,iconClassName:i,options:r,leftAlignMenu:n,iconButtonProps:c}=e,[j,N]=(0,s.useState)(!1),S=(0,s.useRef)(null),{settings:w}=(0,g.t)(),k=e=>{S.current&&S.current.contains(e.target)||N(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v,{tooltipProps:t,children:(0,a.jsx)(f.default,{ref:S,size:"small",onClick:()=>{N(e=>!e)},...c,children:"string"==typeof l?(0,a.jsx)("i",{className:b()(l,i)}):l||(0,a.jsx)("i",{className:b()("tabler-dots-vertical",i)})})}),(0,a.jsx)(o.A,{open:j,anchorEl:S.current,placement:n?"bottom-start":"bottom-end",transition:!0,disablePortal:!0,sx:{zIndex:1},children:e=>{let{TransitionProps:t}=e;return(0,a.jsx)(u.A,{...t,children:(0,a.jsx)(p.A,{className:"bordered"===w.skin?"border shadow-none":"shadow-lg",children:(0,a.jsx)(m.x,{onClickAway:k,children:(0,a.jsx)(x.A,{autoFocusItem:j,children:r.map((e,t)=>"string"==typeof e?(0,a.jsx)(d.A,{onClick:k,children:e},t):"divider"in e?e.divider&&(0,a.jsx)(h.default,{...e.dividerProps},t):(0,a.jsx)(d.A,{...e.menuItemProps,...e.href&&{className:"p-0"},onClick:t=>{k(t),e.menuItemProps&&e.menuItemProps.onClick&&e.menuItemProps.onClick(t)},children:(0,a.jsxs)(y,{option:e,children:[("string"==typeof e.icon?(0,a.jsx)("i",{className:e.icon}):e.icon)||null,e.text]})},t))})})})})}})]})}},84126:(e,t,l)=>{"use strict";l.d(t,{default:()=>n});var a=l(95155),s=l(35761),i=l(4617),r=l.n(i);let n=e=>{let{ltrIconClass:t,rtlIconClass:l,className:i}=e,n=(0,s.A)();return(0,a.jsx)("i",{className:r()({[t]:"ltr"===n.direction,[l]:"rtl"===n.direction},i)})}},9062:(e,t,l)=>{"use strict";l.d(t,{default:()=>ei});var a=l(95155),s=l(12115),i=l(55295),r=l(44522),n=l(4617),c=l.n(n),o=l(83391),d=l(48708),x=l(48173),m=l.n(x),u=l(19579),p=l(42479),f=l(2295),h=l(9561),j=l(76345),b=l.n(j),g=l(894),v=l(6403),y=l(3512),N=l(27386),S=l(84949),w=l(28134),k=l(95694),C=l(37386),A=l(8175);l(98120);let z=e=>{let{editor:t}=e;return t?(0,a.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 plb-2 pli-4 border-bs",children:[(0,a.jsx)(C.default,{...t.isActive("bold")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().toggleBold().run(),children:(0,a.jsx)("i",{className:c()("tabler-bold",{"text-textSecondary":!t.isActive("bold")})})}),(0,a.jsx)(C.default,{...t.isActive("underline")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().toggleUnderline().run(),children:(0,a.jsx)("i",{className:c()("tabler-underline",{"text-textSecondary":!t.isActive("underline")})})}),(0,a.jsx)(C.default,{...t.isActive("italic")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().toggleItalic().run(),children:(0,a.jsx)("i",{className:c()("tabler-italic",{"text-textSecondary":!t.isActive("italic")})})}),(0,a.jsx)(C.default,{...t.isActive("strike")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().toggleStrike().run(),children:(0,a.jsx)("i",{className:c()("tabler-strikethrough",{"text-textSecondary":!t.isActive("strike")})})}),(0,a.jsx)(C.default,{...t.isActive({textAlign:"left"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().setTextAlign("left").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-left",{"text-textSecondary":!t.isActive({textAlign:"left"})})})}),(0,a.jsx)(C.default,{...t.isActive({textAlign:"center"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().setTextAlign("center").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-center",{"text-textSecondary":!t.isActive({textAlign:"center"})})})}),(0,a.jsx)(C.default,{...t.isActive({textAlign:"right"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().setTextAlign("right").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-right",{"text-textSecondary":!t.isActive({textAlign:"right"})})})}),(0,a.jsx)(C.default,{...t.isActive({textAlign:"justify"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().setTextAlign("justify").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-justified",{"text-textSecondary":!t.isActive({textAlign:"justify"})})})})]}):null},I=e=>{let{openCompose:t,setOpenCompose:l,isBelowSmScreen:i,isBelowMdScreen:r}=e,[n,c]=(0,s.useState)({cc:!1,bcc:!1}),{settings:o}=(0,A.t)(),d=e=>{c(t=>({...t,[e]:!t[e]}))},x=(0,y.hG)({extensions:[N.W,w.O.configure({placeholder:"Message"}),k.n.configure({types:["heading","paragraph"]}),S.z],immediatelyRender:!1});return(0,a.jsxs)(u.Ay,{anchor:"bottom",variant:"persistent",hideBackdrop:!0,open:t,onClose:()=>l(!1),PaperProps:{sx:{width:r?"calc(100% - 2 * 1.5rem)":"100%",maxWidth:600,position:"absolute",height:"auto",insetInlineStart:"auto",insetInlineEnd:"1.5rem",insetBlockEnd:"1.5rem",borderRadius:"var(--mui-shape-borderRadius)",borderTop:0,boxShadow:"bordered"===o.skin?"none":"var(--mui-customShadows-xl)",border:"bordered"===o.skin?"1px solid var(--mui-palette-divider)":void 0,zIndex:12}},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between plb-3.5 pli-6 bg-actionHover",children:[(0,a.jsx)(h.default,{variant:"h5",color:"text.secondary",children:"Compose Mail"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(g.default,{size:"small",onClick:()=>l(!1),children:(0,a.jsx)("i",{className:"tabler-minus text-textSecondary"})}),(0,a.jsx)(g.default,{size:"small",onClick:()=>l(!1),children:(0,a.jsx)("i",{className:"tabler-x text-textSecondary"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pli-6 plb-1",children:[(0,a.jsx)(h.default,{className:"font-medium",color:"text.disabled",children:"To:"}),(0,a.jsx)(v.Ay,{fullWidth:!0}),(0,a.jsxs)("div",{className:"text-textSecondary",children:[(0,a.jsx)("span",{className:"cursor-pointer",onClick:()=>d("cc"),children:"Cc"}),(0,a.jsx)("span",{className:"mli-1",children:"|"}),(0,a.jsx)("span",{className:"cursor-pointer",onClick:()=>d("bcc"),children:"Bcc"})]})]}),n.cc&&(0,a.jsx)(v.Ay,{className:"plb-1 pli-6 border-bs",startAdornment:(0,a.jsx)(h.default,{className:"font-medium mie-2",color:"text.disabled",children:"Cc:"})}),n.bcc&&(0,a.jsx)(v.Ay,{className:"plb-1 pli-6 border-bs",startAdornment:(0,a.jsx)(h.default,{className:"font-medium mie-2",color:"text.disabled",children:"Bcc:"})}),(0,a.jsx)(v.Ay,{className:"plb-1 pli-6 border-bs",startAdornment:(0,a.jsx)(h.default,{className:"font-medium mie-2",color:"text.disabled",children:"Subject:"})}),(0,a.jsx)(z,{editor:x}),(0,a.jsx)(y.$Z,{editor:x,className:"bs-[105px] overflow-y-auto flex border-bs"}),(0,a.jsxs)("div",{className:"plb-4 pli-5 flex justify-between items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 max-sm:gap-3",children:[i?(0,a.jsx)(C.default,{color:"primary",variant:"contained",children:(0,a.jsx)("i",{className:"tabler-send"})}):(0,a.jsx)(f.default,{variant:"contained",endIcon:(0,a.jsx)("i",{className:"tabler-send"}),onClick:()=>l(!1),children:"Send"}),(0,a.jsx)(g.default,{size:"small",children:(0,a.jsx)("i",{className:"tabler-paperclip text-textSecondary"})})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(g.default,{size:"small",children:(0,a.jsx)("i",{className:"tabler-dots-vertical text-textSecondary"})}),(0,a.jsx)(g.default,{size:"small",onClick:()=>l(!1),children:(0,a.jsx)("i",{className:"tabler-trash text-textSecondary"})})]})]})]})};var P=l(30239),L=l(23368),M=l.n(L);let _={inbox:"tabler-mail",sent:"tabler-send",draft:"tabler-edit",starred:"tabler-star",spam:"tabler-alert-octagon",trash:"tabler-trash"},B={personal:{color:"success",colorClass:"text-success"},company:{color:"primary",colorClass:"text-primary"},important:{color:"warning",colorClass:"text-warning"},private:{color:"error",colorClass:"text-error"}},R=e=>{let{children:t,isBelowLgScreen:l}=e;return l?(0,a.jsx)("div",{className:"bs-full overflow-y-auto overflow-x-hidden",children:t}):(0,a.jsx)(b(),{options:{wheelPropagation:!1},children:t})},T=e=>{let{store:t,isBelowLgScreen:l,isBelowMdScreen:i,isBelowSmScreen:r,sidebarOpen:n,setSidebarOpen:o,uniqueLabels:d,folder:x,label:j}=e,[b,g]=(0,s.useState)(!1),v=t.emails.reduce((e,t)=>(t.isRead||"trash"===t.folder?"draft"===t.folder&&(e.draft=(e.draft||0)+1):e[t.folder]=(e[t.folder]||0)+1,e),{});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.Ay,{open:n,onClose:()=>o(!1),className:"bs-full",variant:i?"persistent":"permanent",ModalProps:{disablePortal:!0,keepMounted:!0},sx:{zIndex:i&&n?11:10,position:i?"absolute":"static","& .MuiDrawer-paper":{boxShadow:"none",overflow:"hidden",width:"260px",position:i?"absolute":"static"}},children:[(0,a.jsx)(p.default,{children:(0,a.jsx)(f.default,{color:"primary",variant:"contained",fullWidth:!0,onClick:()=>g(!0),children:"Compose"})}),(0,a.jsxs)(R,{isBelowLgScreen:l,children:[(0,a.jsx)("div",{className:"flex flex-col gap-1 plb-4",children:Object.entries(_).map(e=>{let[t,l]=e;return(0,a.jsxs)(m(),{href:"/apps/email/".concat(t),prefetch:!0,className:c()("flex items-center justify-between plb-1 pli-6 gap-2.5 min-bs-8 cursor-pointer",{[M().activeSidebarListItem]:t===x&&!j}),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,a.jsx)("i",{className:c()(l,"text-xl")}),(0,a.jsx)(h.default,{className:"capitalize",color:"inherit",children:t})]}),v[t]&&(0,a.jsx)(P.A,{label:v[t],size:"small",round:"true",variant:"tonal",color:"inbox"===t?"primary":"draft"===t?"warning":"spam"===t?"error":"default"})]},t)})}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 plb-4",children:[(0,a.jsx)(h.default,{variant:"caption",className:"uppercase pli-6",children:"Labels"}),(0,a.jsx)("div",{className:"flex flex-col gap-3",children:d.map(e=>(0,a.jsxs)(m(),{href:"/apps/email/label/".concat(e),prefetch:!0,className:c()("flex items-center gap-x-2 pli-6 cursor-pointer",{[M().activeSidebarListItem]:e===j}),children:[(0,a.jsx)("i",{className:c()("tabler-circle-filled text-xs",B[e].colorClass)}),(0,a.jsx)(h.default,{className:"capitalize",color:"inherit",children:e})]},e))})]})]})]}),(0,a.jsx)(I,{openCompose:b,setOpenCompose:g,isBelowSmScreen:r,isBelowMdScreen:i})]})},E=e=>{let{isBelowScreen:t,searchTerm:l,setSidebarOpen:s,setBackdropOpen:i,setSearchTerm:r}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-1 is-full pli-4 border-be",children:[t&&(0,a.jsx)(g.default,{onClick:()=>{s(!0),i(!0)},children:(0,a.jsx)("i",{className:"tabler-menu-2 text-textSecondary"})}),(0,a.jsx)(v.Ay,{fullWidth:!0,value:l,onChange:e=>r(e.target.value),startAdornment:(0,a.jsx)("i",{className:"tabler-search text-textSecondary mie-4"}),placeholder:"Search mail",className:"bs-[56px]"})]})};var O=l(83726),F=l(72926),D=l(23641);let W=e=>{let{areFilteredEmailsNone:t,selectedEmails:l,setSelectedEmails:s,emails:i,folder:r,label:n,uniqueLabels:o,setReload:x,dispatch:m}=e,u=l.size>0&&l.size===i.length,p=l.size>0&&l.size<i.length,f=()=>{let e=i.filter(e=>l.has(e.id)).map(e=>e.id);m((0,d.iW)({emailIds:e,folder:"spam"})),s(new Set)},h=()=>{let e=i.filter(e=>l.has(e.id)).map(e=>e.id);m((0,d.iW)({emailIds:e,folder:"inbox"})),s(new Set)},j=e=>{let t=i.filter(e=>l.has(e.id)).map(e=>e.id);m((0,d.F0)({emailIds:t,label:e})),s(new Set)};return(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 max-sm:gap-0.5 is-full pli-4 plb-2 border-be",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 max-sm:gap-0.5",children:[(0,a.jsx)(O.default,{indeterminate:p,checked:u,onChange:()=>{u?s(new Set):s(new Set(i.filter(e=>"starred"===r&&"trash"!==e.folder?e.isStarred:n&&o.includes(n)&&"trash"!==e.folder?e.labels.includes(n):e.folder===r).map(e=>e.id)))},disabled:t}),(p||u)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.default,{title:"trash"===r?"Delete":"Move to trash",placement:"top",children:(0,a.jsx)(g.default,{onClick:()=>{let e=i.filter(e=>l.has(e.id)).map(e=>e.id);"trash"===r?m((0,d.vT)({emailIds:e})):m((0,d.iW)({emailIds:e,folder:"trash"})),s(new Set)},children:(0,a.jsx)("i",{className:"tabler-trash text-textSecondary"})})}),(0,a.jsx)(F.default,{title:l.size>0&&i.filter(e=>l.has(e.id)).every(e=>e.isRead)?"Mark as unread":"Mark as read",placement:"top",children:(0,a.jsx)(g.default,{onClick:()=>{let e=i.filter(e=>l.has(e.id)).map(e=>e.id);m((0,d.Ur)({emailIds:e})),s(new Set)},children:(0,a.jsx)("i",{className:c()("text-textSecondary",l.size>0&&i.filter(e=>l.has(e.id)).every(e=>e.isRead)?"tabler-mail":"tabler-mail-opened")})})}),"inbox"===r&&(0,a.jsx)(F.default,{title:"Move to spam",placement:"top",children:(0,a.jsx)(g.default,{onClick:f,children:(0,a.jsx)("i",{className:"tabler-info-circle text-textSecondary"})})}),"spam"===r&&(0,a.jsx)(F.default,{title:"Move to inbox",placement:"top",children:(0,a.jsx)(g.default,{onClick:h,children:(0,a.jsx)("i",{className:"tabler-inbox text-textSecondary"})})}),"trash"===r&&(0,a.jsx)(D.default,{tooltipProps:{title:"Move to folder",placement:"top"},icon:(0,a.jsx)("i",{className:"tabler-folder text-textSecondary"}),iconButtonProps:{size:"medium"},options:[{text:"Spam",icon:(0,a.jsx)("i",{className:"tabler-info-circle"}),menuItemProps:{onClick:f}},{text:"Inbox",icon:(0,a.jsx)("i",{className:"tabler-inbox"}),menuItemProps:{onClick:h}}]}),(0,a.jsx)(D.default,{tooltipProps:{title:"Toggle label",placement:"top"},icon:(0,a.jsx)("i",{className:"tabler-tag text-textSecondary"}),iconButtonProps:{size:"medium"},options:Object.entries(B).map(e=>{let[t,l]=e;return{text:t.charAt(0).toUpperCase()+t.slice(1),menuItemProps:{onClick:()=>j(t)},icon:(0,a.jsx)("i",{className:"tabler-circle-filled text-xs text-".concat(l.color)})}})})]})]}),(0,a.jsxs)("div",{className:"flex gap-1 max-sm:gap-0.5",children:[(0,a.jsx)(F.default,{title:"Refresh",placement:"top",children:(0,a.jsx)(g.default,{onClick:()=>{x(!0),setTimeout(()=>{x(!1)},2e3)},children:(0,a.jsx)("i",{className:"tabler-refresh text-textSecondary"})})}),(0,a.jsx)(g.default,{children:(0,a.jsx)("i",{className:"tabler-dots-vertical text-textSecondary"})})]})]})};var U=l(96854),H=l(53482);let q=e=>{let{children:t,isBelowLgScreen:l}=e;return l?(0,a.jsx)("div",{className:"bs-full overflow-y-auto overflow-x-hidden relative",children:t}):(0,a.jsx)(b(),{options:{wheelPropagation:!1},children:t})},G=e=>{let{isInitialMount:t,isBelowSmScreen:l,isBelowLgScreen:s,reload:i,areFilteredEmailsNone:n,searchTerm:o,selectedEmails:x,dispatch:m,store:u,emails:p,folder:f,setSelectedEmails:j,setDrawerOpen:b,handleToggleStarEmail:v,handleSingleEmailDelete:y,handleToggleIsReadStatus:N}=e,S=e=>{j(t=>{let l=new Set(t);return l.has(e)?l.delete(e):l.add(e),l})},w=(e,t)=>{e.stopPropagation(),m((0,d.iW)({emailIds:[t],folder:"spam"}))},k=e=>{var t;b(!0),(u.currentEmailId!==e||(null===(t=p.find(t=>t.id===e))||void 0===t?void 0:t.isRead)===!1)&&m((0,d.kb)(e))};return t?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 grow is-full",children:[(0,a.jsx)(U.default,{}),(0,a.jsx)(h.default,{children:"Loading..."})]}):n?(0,a.jsxs)("div",{className:"relative flex justify-center gap-2 grow is-full bg-backgroundPaper",children:[(0,a.jsx)(h.default,{className:"m-3",children:"No emails found!"}),i&&(0,a.jsx)(r.A,{open:i,className:"absolute text-white z-10 bg-textDisabled",children:(0,a.jsx)(U.default,{color:"inherit"})})]}):(0,a.jsxs)("div",{className:"relative overflow-hidden grow is-full",children:[(0,a.jsx)(q,{isBelowLgScreen:s,children:(0,a.jsx)("div",{className:"flex flex-col",children:p.filter(e=>e.subject.toLowerCase().includes(o.toLowerCase())||e.from.name.toLowerCase().includes(o.toLowerCase())).map(e=>(0,a.jsx)("div",{className:c()("p-4 cursor-pointer",M().emailList,{"bg-actionHover":e.isRead}),onClick:()=>k(e.id),children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden",children:[(0,a.jsx)(O.default,{checked:x.has(e.id),onChange:()=>S(e.id),onClick:e=>e.stopPropagation()}),(0,a.jsx)(g.default,{onClick:t=>v(t,e.id),children:(0,a.jsx)("i",{className:c()("tabler-star",e.isStarred?"text-warning":"text-textSecondary")})}),(0,a.jsx)(H.default,{src:e.from.avatar,alt:e.from.name,size:32}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center overflow-hidden",children:[(0,a.jsx)(h.default,{className:"font-medium whitespace-nowrap",color:"text.primary",children:e.from.name}),(0,a.jsx)(h.default,{variant:"body2",noWrap:!0,children:e.subject})]})]}),!l&&(0,a.jsxs)("div",{className:c()("flex items-center gap-2",M().emailInfo,{[M().show]:s}),children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:e.labels.map(e=>(0,a.jsx)("i",{className:c()("tabler-circle-filled text-[10px]",B[e].colorClass)},e))}),(0,a.jsx)(h.default,{variant:"body2",color:"text.disabled",className:"whitespace-nowrap",children:new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).format(new Date(e.time))})]}),!s&&(0,a.jsxs)("div",{className:M().emailActions,children:[(0,a.jsx)(F.default,{title:"trash"===f?"Delete":"Move to trash",placement:"top",children:(0,a.jsx)(g.default,{onClick:t=>y(t,e.id),children:(0,a.jsx)("i",{className:"tabler-trash text-textSecondary"})})}),(0,a.jsx)(F.default,{title:e.isRead?"Mark as unread":"Mark as read",placement:"top",children:(0,a.jsx)(g.default,{onClick:t=>{N(t,e.id),j(new Set)},children:(0,a.jsx)("i",{className:c()("text-textSecondary",e.isRead?"tabler-mail":"tabler-mail-opened")})})}),("inbox"===f||"trash"===f)&&(0,a.jsx)(F.default,{title:"Move to spam",placement:"top",children:(0,a.jsx)(g.default,{onClick:t=>w(t,e.id),children:(0,a.jsx)("i",{className:"tabler-info-circle text-textSecondary"})})})]})]})},e.id))})}),i&&(0,a.jsx)(r.A,{open:i,className:"absolute text-white z-10 bg-textDisabled",children:(0,a.jsx)(U.default,{color:"inherit"})})]})};var J=l(64665),V=l(69841),Z=l(89142),$=l(84126),X=l(2241);let K=e=>{let{data:t,isReplies:l}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(h.default,{color:"text.disabled",children:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).format(new Date(t.time))}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[t.attachments.length?(0,a.jsx)(g.default,{children:(0,a.jsx)("i",{className:"tabler-paperclip text-textSecondary"})}):null,l?(0,a.jsx)(D.default,{iconClassName:"text-textSecondary",iconButtonProps:{size:"medium"},options:[{text:"Reply",icon:"tabler-arrow-back-up"},{text:"Forward",icon:"tabler-arrow-forward-up"}]}):(0,a.jsx)(g.default,{children:(0,a.jsx)("i",{className:"tabler-dots-vertical text-textSecondary"})})]})]})},Q=e=>{let{data:t,isReplies:l}=e;return(0,a.jsxs)(J.default,{className:"border",children:[(0,a.jsxs)(p.default,{className:"flex is-full gap-4",children:[(0,a.jsx)(H.default,{src:t.from.avatar,size:38,alt:t.from.name}),(0,a.jsxs)("div",{className:"flex items-center justify-between flex-wrap grow gap-x-4 gap-y-2",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(h.default,{color:"text.primary",children:t.from.name}),(0,a.jsx)(h.default,{variant:"body2",children:t.from.email})]}),(0,a.jsx)(K,{data:t,isReplies:l})]})]}),(0,a.jsx)(X.default,{}),(0,a.jsxs)(p.default,{children:[(0,a.jsx)("div",{className:c()("text-textSecondary",M().message),dangerouslySetInnerHTML:{__html:t.message}}),t.attachments.length?(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("hr",{className:"border-be -mli-6 mbs-4"}),(0,a.jsx)(h.default,{variant:"caption",children:"Attachments"}),t.attachments.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("img",{src:e.thumbnail,alt:e.fileName,className:"bs-6"}),(0,a.jsx)(h.default,{children:e.fileName})]},e.fileName))]}):null]})]})},Y=e=>{let{children:t,isBelowLgScreen:l}=e;return l?(0,a.jsx)("div",{className:"bs-full overflow-y-auto overflow-x-hidden bg-actionHover",children:t}):(0,a.jsx)(b(),{className:"bg-actionHover",options:{wheelPropagation:!1},children:t})},ee=(0,Z.Ay)("div")(e=>{let{drawerOpen:t}=e;return{display:"flex",flexDirection:"column",blockSize:"100%",inlineSize:"100%",position:"absolute",top:0,right:t?0:"-100%",zIndex:11,overflow:"hidden",background:"var(--mui-palette-background-paper)",transition:"right 0.3s ease"}}),et=e=>{let{editor:t}=e;return t?(0,a.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 pli-6",children:[(0,a.jsx)(C.default,{...t.isActive("bold")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().toggleBold().run(),children:(0,a.jsx)("i",{className:c()("tabler-bold",{"text-textPrimary":!t.isActive("bold")})})}),(0,a.jsx)(C.default,{...t.isActive("underline")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().toggleUnderline().run(),children:(0,a.jsx)("i",{className:c()("tabler-underline",{"text-textPrimary":!t.isActive("underline")})})}),(0,a.jsx)(C.default,{...t.isActive("italic")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().toggleItalic().run(),children:(0,a.jsx)("i",{className:c()("tabler-italic",{"text-textPrimary":!t.isActive("italic")})})}),(0,a.jsx)(C.default,{...t.isActive("strike")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().toggleStrike().run(),children:(0,a.jsx)("i",{className:c()("tabler-strikethrough",{"text-textPrimary":!t.isActive("strike")})})}),(0,a.jsx)(C.default,{...t.isActive({textAlign:"left"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().setTextAlign("left").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-left",{"text-textPrimary":!t.isActive({textAlign:"left"})})})}),(0,a.jsx)(C.default,{...t.isActive({textAlign:"center"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().setTextAlign("center").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-center",{"text-textPrimary":!t.isActive({textAlign:"center"})})})}),(0,a.jsx)(C.default,{...t.isActive({textAlign:"right"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().setTextAlign("right").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-right",{"text-textPrimary":!t.isActive({textAlign:"right"})})})}),(0,a.jsx)(C.default,{...t.isActive({textAlign:"justify"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>t.chain().focus().setTextAlign("justify").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-justified",{"text-textPrimary":!t.isActive({textAlign:"justify"})})})})]}):null},el=e=>{let{drawerOpen:t,setDrawerOpen:l,isBelowSmScreen:i,isBelowLgScreen:r,currentEmail:n,emails:o,folder:x,label:m,dispatch:u,handleSingleEmailDelete:j,handleToggleIsReadStatus:b,handleToggleStarEmail:v}=e,[A,z]=(0,s.useState)(!1),[I,L]=(0,s.useState)(!1),_=e=>{u((0,d.JX)({type:e,emails:o,currentEmailId:null==n?void 0:n.id})),I&&L(!1)},R=()=>{u((0,d.iW)({emailIds:[null==n?void 0:n.id],folder:"spam"})),l(!1)},T=()=>{u((0,d.iW)({emailIds:[null==n?void 0:n.id],folder:"inbox"})),l(!1)},E=e=>{u((0,d.F0)({emailIds:[null==n?void 0:n.id],label:e})),m===e&&l(!1)},O=(0,y.hG)({extensions:[N.W,w.O.configure({placeholder:"Write your message..."}),k.n.configure({types:["heading","paragraph"]}),S.z],immediatelyRender:!1});return(0,a.jsx)(ee,{drawerOpen:t,children:n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"plb-4 pli-6",children:(0,a.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center overflow-hidden",children:[(0,a.jsx)(g.default,{onClick:()=>{l(!1),I&&L(!1)},children:(0,a.jsx)($.default,{ltrIconClass:"tabler-chevron-left",rtlIconClass:"tabler-chevron-right",className:"text-textSecondary"})}),(0,a.jsxs)("div",{className:"flex items-center flex-wrap gap-2 overflow-hidden",children:[(0,a.jsx)(h.default,{color:"text.primary",noWrap:!0,children:n.subject}),(0,a.jsx)("div",{className:"flex items-center flex-wrap gap-2",children:n.labels&&n.labels.length?n.labels.map(e=>(0,a.jsx)(P.A,{variant:"tonal",round:"true",size:"small",label:e,color:B[e].color,className:"capitalize"},e)):null})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.default,{disabled:n.id===o[0].id,onClick:()=>_("prev"),children:(0,a.jsx)($.default,{ltrIconClass:"tabler-chevron-left",rtlIconClass:"tabler-chevron-right",className:"text-textSecondary"})}),(0,a.jsx)(g.default,{disabled:n.id===o[o.length-1].id,onClick:()=>_("next"),children:(0,a.jsx)($.default,{ltrIconClass:"tabler-chevron-right",rtlIconClass:"tabler-chevron-left",className:"text-textSecondary"})})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 plb-2 pli-6 border-y",children:[(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(F.default,{title:"trash"===x?"Delete":"Move to trash",placement:"top",children:(0,a.jsx)(g.default,{onClick:e=>{l(!1),j(e,n.id)},children:(0,a.jsx)("i",{className:"tabler-trash text-textSecondary"})})}),(0,a.jsx)(F.default,{title:"Mark as unread",placement:"top",children:(0,a.jsx)(g.default,{onClick:e=>{l(!1),b(e,n.id)},children:(0,a.jsx)("i",{className:"tabler-mail text-textSecondary"})})}),"inbox"===x&&(0,a.jsx)(F.default,{title:"Move to spam",placement:"top",children:(0,a.jsx)(g.default,{onClick:R,children:(0,a.jsx)("i",{className:"tabler-info-circle text-textSecondary"})})}),"spam"===x&&(0,a.jsx)(F.default,{title:"Move to inbox",placement:"top",children:(0,a.jsx)(g.default,{onClick:T,children:(0,a.jsx)("i",{className:"tabler-inbox text-textSecondary"})})}),"trash"===x&&(0,a.jsx)(D.default,{tooltipProps:{title:"Move to folder",placement:"top"},icon:(0,a.jsx)("i",{className:"tabler-folder text-textSecondary"}),iconButtonProps:{size:"medium"},options:[{text:"Spam",icon:(0,a.jsx)("i",{className:"tabler-info-circle"}),menuItemProps:{onClick:R}},{text:"Inbox",icon:(0,a.jsx)("i",{className:"tabler-inbox"}),menuItemProps:{onClick:T}}]}),(0,a.jsx)(D.default,{tooltipProps:{title:"Toggle label",placement:"top"},icon:(0,a.jsx)("i",{className:"tabler-tag text-textSecondary"}),iconButtonProps:{size:"medium"},options:Object.entries(B).map(e=>{let[t,l]=e;return{text:t.charAt(0).toUpperCase()+t.slice(1),menuItemProps:{onClick:()=>E(t)},icon:(0,a.jsx)("i",{className:"tabler-circle-filled text-xs text-".concat(l.color)})}})})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(g.default,{onClick:e=>{v(e,n.id),"starred"===x&&l(!1)},children:(0,a.jsx)("i",{className:c()("tabler-star",n.isStarred?"text-warning":"text-textSecondary")})}),n.replies.length?(0,a.jsx)(g.default,{onClick:()=>z(!A),children:(0,a.jsx)("i",{className:c()("text-textSecondary",{"tabler-arrows-move-vertical":!A,"tabler-fold":A})})}):null,(0,a.jsx)(g.default,{children:(0,a.jsx)("i",{className:"tabler-dots-vertical text-textSecondary"})})]})]}),(0,a.jsx)(Y,{isBelowLgScreen:r,children:(0,a.jsxs)("div",{className:"plb-5 pli-8 flex flex-col gap-4",children:[n.replies.length&&!A?(0,a.jsx)(h.default,{className:"self-center text-center cursor-pointer",onClick:()=>z(!0),children:"".concat(n.replies.length," Earlier Messages")}):null,A?n.replies.map(e=>(0,a.jsx)(Q,{data:e,isReplies:!1},e.id)):null,(0,a.jsxs)("div",{children:[!A&&n.replies.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:c()(M().mailReplyLayer,M().layer1),onClick:()=>z(!0)}),(0,a.jsx)("div",{className:c()(M().mailReplyLayer,M().layer2),onClick:()=>z(!0)})]}):null,(0,a.jsx)(Q,{data:n,isReplies:!0}),(0,a.jsx)(J.default,{className:"border mbs-4",children:I?(0,a.jsxs)("div",{className:"flex flex-col gap-y-6",children:[(0,a.jsx)(p.default,{className:"pbe-0",children:(0,a.jsx)(h.default,{color:"text.primary",children:"Reply to ".concat(n.from.name)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(et,{editor:O}),(0,a.jsx)(y.$Z,{editor:O,className:"overflow-y-auto"})]}),(0,a.jsxs)(V.default,{className:"flex items-center justify-end pbs-0",children:[(0,a.jsx)(g.default,{children:(0,a.jsx)("i",{className:"tabler-trash text-textSecondary",onClick:()=>L(!1)})}),i?(0,a.jsx)(C.default,{color:"secondary",children:(0,a.jsx)("i",{className:"tabler-paperclip text-textPrimary"})}):(0,a.jsx)(f.default,{color:"secondary",startIcon:(0,a.jsx)("i",{className:"tabler-paperclip text-textPrimary"}),children:"Attachments"}),i?(0,a.jsx)(C.default,{variant:"contained",color:"primary",children:(0,a.jsx)("i",{className:"tabler-send"})}):(0,a.jsx)(f.default,{variant:"contained",color:"primary",endIcon:(0,a.jsx)("i",{className:"tabler-send"}),children:"Send"})]})]}):(0,a.jsx)(p.default,{children:(0,a.jsxs)(h.default,{children:["Click here to",(0,a.jsx)("span",{className:"text-primary cursor-pointer mli-1",onClick:()=>L(!0),children:"Reply"}),"or",(0,a.jsx)("span",{className:"text-primary cursor-pointer mis-1",children:"Forward"})]})})})]})]})})]})})},ea=e=>{let{folder:t,label:l,store:i,dispatch:r,uniqueLabels:n,isInitialMount:c,setSidebarOpen:o,isBelowLgScreen:x,isBelowMdScreen:m,isBelowSmScreen:u,setBackdropOpen:p}=e,[f,h]=(0,s.useState)(new Set),[j,b]=(0,s.useState)(!1),[g,v]=(0,s.useState)(!1),[y,N]=(0,s.useState)(""),S=i.filteredEmails,w=S.find(e=>e.id===i.currentEmailId),k=0===S.length||0===S.filter(e=>e.subject.toLowerCase().includes(y.toLowerCase())||e.from.name.toLowerCase().includes(y.toLowerCase())).length,C=(e,l)=>{e.stopPropagation(),h(e=>{let t=new Set(e);return t.delete(l),t}),"trash"===t?r((0,d.vT)({emailIds:[l]})):r((0,d.iW)({emailIds:[l],folder:"trash"}))},A=(e,t)=>{e.stopPropagation(),r((0,d.Ur)({emailIds:[t]}))},z=(e,t)=>{e.stopPropagation(),r((0,d.vU)({emailId:t}))};return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center is-full bs-full relative overflow-hidden bg-backgroundPaper",children:[(0,a.jsx)(E,{isBelowScreen:m,searchTerm:y,setSidebarOpen:o,setBackdropOpen:p,setSearchTerm:N}),(0,a.jsx)(W,{areFilteredEmailsNone:k,selectedEmails:f,setSelectedEmails:h,emails:S,folder:t,label:l,uniqueLabels:n,setReload:v,dispatch:r}),(0,a.jsx)(G,{isInitialMount:c,isBelowSmScreen:u,isBelowLgScreen:x,reload:g,areFilteredEmailsNone:k,searchTerm:y,selectedEmails:f,dispatch:r,store:i,emails:S,folder:t,setSelectedEmails:h,setDrawerOpen:b,handleToggleStarEmail:z,handleSingleEmailDelete:C,handleToggleIsReadStatus:A}),(0,a.jsx)(el,{drawerOpen:j,setDrawerOpen:b,isBelowSmScreen:u,isBelowLgScreen:x,currentEmail:w,emails:S,folder:t,label:l,dispatch:r,handleSingleEmailDelete:C,handleToggleIsReadStatus:A,handleToggleStarEmail:z})]})};var es=l(6510);let ei=e=>{let{folder:t,label:l}=e,[n,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),p=(0,s.useRef)(!0),{settings:f}=(0,A.t)(),h=(0,o.d4)(e=>e.emailReducer),j=(0,o.wA)(),b=(0,i.A)(e=>e.breakpoints.down("lg")),g=(0,i.A)(e=>e.breakpoints.down("md")),v=(0,i.A)(e=>e.breakpoints.down("sm")),y=[...new Set(h.emails.flatMap(e=>e.labels))];return(0,s.useEffect)(()=>{p.current&&(p.current=!1)},[]),(0,s.useEffect)(()=>{j((0,d.Of)({emails:h.emails,folder:t,label:l,uniqueLabels:y}))},[h.emails,t,l]),(0,s.useEffect)(()=>{m&&!n&&u(!1)},[n]),(0,s.useEffect)(()=>{m&&!g&&u(!1),n&&!g&&x(!1)},[g]),(0,a.jsxs)("div",{className:c()(es.o.contentHeightFixed,"flex is-full overflow-hidden rounded relative",{border:"bordered"===f.skin,"shadow-md":"bordered"!==f.skin}),children:[(0,a.jsx)(T,{store:h,isBelowLgScreen:b,isBelowMdScreen:g,isBelowSmScreen:v,sidebarOpen:n,setSidebarOpen:x,folder:t,uniqueLabels:y,label:l||""}),(0,a.jsx)(r.A,{open:m,onClick:()=>{x(!1),u(!1)},className:"absolute z-10"}),(0,a.jsx)(ea,{store:h,dispatch:j,folder:t,label:l,uniqueLabels:y,isInitialMount:p.current,setSidebarOpen:x,isBelowLgScreen:b,isBelowMdScreen:g,isBelowSmScreen:v,setBackdropOpen:u})]})}},98120:()=>{},23368:e=>{e.exports={activeSidebarListItem:"styles_activeSidebarListItem__pBdqo",emailList:"styles_emailList__yHms4",emailInfo:"styles_emailInfo__IIbJf",show:"styles_show__lvFB5",emailActions:"styles_emailActions__h2PS1",message:"styles_message__LkVz3",mailReplyLayer:"styles_mailReplyLayer__O4qDe",layer1:"styles_layer1__rrIAw",layer2:"styles_layer2__O9Ph4"}}}]);