exports.id=1009,exports.ids=[1009],exports.modules={33881:(e,t,l)=>{Promise.resolve().then(l.bind(l,91541))},70329:(e,t,l)=>{Promise.resolve().then(l.bind(l,31636))},21536:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>r});var a=l(57799),s=l(35884),i=l(13429);let r=(0,s.Ay)(a.default)(({color:e,size:t,theme:l,variant:a})=>({minInlineSize:0,transition:"none",..."small"===t?{fontSize:"20px",padding:l.spacing("outlined"===a?1:1.25),"& i, & svg":{fontSize:"inherit"}}:{..."large"===t?{fontSize:"24px",padding:l.spacing("outlined"===a?2.75:3),"& i, & svg":{fontSize:"inherit"}}:{fontSize:"22px",padding:l.spacing("outlined"===a?1.75:2),"& i, & svg":{fontSize:"inherit"}}},...!e&&{color:"var(--mui-palette-action-active)","&:not(.Mui-disabled):hover, &:not(.Mui-disabled):active":{backgroundColor:"rgb(var(--mui-palette-text-primaryChannel) / 0.08)"},...i.A.disableRipple&&{"&.Mui-focusVisible:not(.Mui-disabled)":{backgroundColor:"rgb(var(--mui-palette-text-primaryChannel) / 0.08)"}},"&.Mui-disabled":{opacity:.45,color:"var(--mui-palette-action-active)"},..."outlined"===a&&{border:"none !important",..."small"===t?{padding:l.spacing(1.25)}:{..."large"===t?{padding:l.spacing(3)}:{padding:l.spacing(2)}}},..."contained"===a&&{boxShadow:"none !important",backgroundColor:"transparent"},..."tonal"===a&&{backgroundColor:"transparent"}}}))},14509:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>N});var a=l(45512),s=l(58009),i=l(28531),r=l.n(i),n=l(29537),c=l(51323),o=l(62933),d=l(38031),x=l(44535),m=l(70667),p=l(89337),u=l(27319),f=l(38953),h=l(52095),j=l(56073),b=l.n(j),g=l(29849);let v=e=>{let{tooltipProps:t,children:l}=e;return t?.title?(0,a.jsx)(n.default,{...t,children:l}):l},y=({children:e,option:t})=>t.href?(0,a.jsx)(c.A,{component:r(),href:t.href,...t.linkProps,children:e}):(0,a.jsx)(a.Fragment,{children:e}),N=e=>{let{tooltipProps:t,icon:l,iconClassName:i,options:r,leftAlignMenu:n,iconButtonProps:c}=e,[j,N]=(0,s.useState)(!1),S=(0,s.useRef)(null),{settings:w}=(0,g.t)(),C=e=>{S.current&&S.current.contains(e.target)||N(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v,{tooltipProps:t,children:(0,a.jsx)(f.default,{ref:S,size:"small",onClick:()=>{N(e=>!e)},...c,children:"string"==typeof l?(0,a.jsx)("i",{className:b()(l,i)}):l||(0,a.jsx)("i",{className:b()("tabler-dots-vertical",i)})})}),(0,a.jsx)(o.A,{open:j,anchorEl:S.current,placement:n?"bottom-start":"bottom-end",transition:!0,disablePortal:!0,sx:{zIndex:1},children:({TransitionProps:e})=>(0,a.jsx)(p.A,{...e,children:(0,a.jsx)(u.A,{className:"bordered"===w.skin?"border shadow-none":"shadow-lg",children:(0,a.jsx)(m.x,{onClickAway:C,children:(0,a.jsx)(x.A,{autoFocusItem:j,children:r.map((e,t)=>"string"==typeof e?(0,a.jsx)(d.A,{onClick:C,children:e},t):"divider"in e?e.divider&&(0,a.jsx)(h.default,{...e.dividerProps},t):(0,a.jsx)(d.A,{...e.menuItemProps,...e.href&&{className:"p-0"},onClick:t=>{C(t),e.menuItemProps&&e.menuItemProps.onClick&&e.menuItemProps.onClick(t)},children:(0,a.jsxs)(y,{option:e,children:[("string"==typeof e.icon?(0,a.jsx)("i",{className:e.icon}):e.icon)||null,e.text]})},t))})})})})})]})}},89674:(e,t,l)=>{"use strict";l.d(t,{default:()=>n});var a=l(45512),s=l(50171),i=l(56073),r=l.n(i);let n=e=>{let{ltrIconClass:t,rtlIconClass:l,className:i}=e,n=(0,s.A)();return(0,a.jsx)("i",{className:r()({[t]:"ltr"===n.direction,[l]:"rtl"===n.direction},i)})}},31636:(e,t,l)=>{"use strict";l.d(t,{default:()=>ei});var a=l(45512),s=l(58009),i=l(20677),r=l(89148),n=l(56073),c=l.n(n),o=l(92273),d=l(31663),x=l(28531),m=l.n(x),p=l(88520),u=l(45669),f=l(57799),h=l(74167),j=l(83935),b=l.n(j),g=l(38953),v=l(71727),y=l(47920),N=l(27042),S=l(22165),w=l(70834),C=l(86056),k=l(21536),A=l(29849);l(66134);let I=({editor:e})=>e?(0,a.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 plb-2 pli-4 border-bs",children:[(0,a.jsx)(k.default,{...e.isActive("bold")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().toggleBold().run(),children:(0,a.jsx)("i",{className:c()("tabler-bold",{"text-textSecondary":!e.isActive("bold")})})}),(0,a.jsx)(k.default,{...e.isActive("underline")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().toggleUnderline().run(),children:(0,a.jsx)("i",{className:c()("tabler-underline",{"text-textSecondary":!e.isActive("underline")})})}),(0,a.jsx)(k.default,{...e.isActive("italic")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().toggleItalic().run(),children:(0,a.jsx)("i",{className:c()("tabler-italic",{"text-textSecondary":!e.isActive("italic")})})}),(0,a.jsx)(k.default,{...e.isActive("strike")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().toggleStrike().run(),children:(0,a.jsx)("i",{className:c()("tabler-strikethrough",{"text-textSecondary":!e.isActive("strike")})})}),(0,a.jsx)(k.default,{...e.isActive({textAlign:"left"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().setTextAlign("left").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-left",{"text-textSecondary":!e.isActive({textAlign:"left"})})})}),(0,a.jsx)(k.default,{...e.isActive({textAlign:"center"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().setTextAlign("center").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-center",{"text-textSecondary":!e.isActive({textAlign:"center"})})})}),(0,a.jsx)(k.default,{...e.isActive({textAlign:"right"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().setTextAlign("right").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-right",{"text-textSecondary":!e.isActive({textAlign:"right"})})})}),(0,a.jsx)(k.default,{...e.isActive({textAlign:"justify"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().setTextAlign("justify").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-justified",{"text-textSecondary":!e.isActive({textAlign:"justify"})})})})]}):null,z=e=>{let{openCompose:t,setOpenCompose:l,isBelowSmScreen:i,isBelowMdScreen:r}=e,[n,c]=(0,s.useState)({cc:!1,bcc:!1}),{settings:o}=(0,A.t)(),d=e=>{c(t=>({...t,[e]:!t[e]}))},x=(0,y.hG)({extensions:[N.W,w.O.configure({placeholder:"Message"}),C.n.configure({types:["heading","paragraph"]}),S.z],immediatelyRender:!1});return(0,a.jsxs)(p.Ay,{anchor:"bottom",variant:"persistent",hideBackdrop:!0,open:t,onClose:()=>l(!1),PaperProps:{sx:{width:r?"calc(100% - 2 * 1.5rem)":"100%",maxWidth:600,position:"absolute",height:"auto",insetInlineStart:"auto",insetInlineEnd:"1.5rem",insetBlockEnd:"1.5rem",borderRadius:"var(--mui-shape-borderRadius)",borderTop:0,boxShadow:"bordered"===o.skin?"none":"var(--mui-customShadows-xl)",border:"bordered"===o.skin?"1px solid var(--mui-palette-divider)":void 0,zIndex:12}},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between plb-3.5 pli-6 bg-actionHover",children:[(0,a.jsx)(h.default,{variant:"h5",color:"text.secondary",children:"Compose Mail"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(g.default,{size:"small",onClick:()=>l(!1),children:(0,a.jsx)("i",{className:"tabler-minus text-textSecondary"})}),(0,a.jsx)(g.default,{size:"small",onClick:()=>l(!1),children:(0,a.jsx)("i",{className:"tabler-x text-textSecondary"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pli-6 plb-1",children:[(0,a.jsx)(h.default,{className:"font-medium",color:"text.disabled",children:"To:"}),(0,a.jsx)(v.Ay,{fullWidth:!0}),(0,a.jsxs)("div",{className:"text-textSecondary",children:[(0,a.jsx)("span",{className:"cursor-pointer",onClick:()=>d("cc"),children:"Cc"}),(0,a.jsx)("span",{className:"mli-1",children:"|"}),(0,a.jsx)("span",{className:"cursor-pointer",onClick:()=>d("bcc"),children:"Bcc"})]})]}),n.cc&&(0,a.jsx)(v.Ay,{className:"plb-1 pli-6 border-bs",startAdornment:(0,a.jsx)(h.default,{className:"font-medium mie-2",color:"text.disabled",children:"Cc:"})}),n.bcc&&(0,a.jsx)(v.Ay,{className:"plb-1 pli-6 border-bs",startAdornment:(0,a.jsx)(h.default,{className:"font-medium mie-2",color:"text.disabled",children:"Bcc:"})}),(0,a.jsx)(v.Ay,{className:"plb-1 pli-6 border-bs",startAdornment:(0,a.jsx)(h.default,{className:"font-medium mie-2",color:"text.disabled",children:"Subject:"})}),(0,a.jsx)(I,{editor:x}),(0,a.jsx)(y.$Z,{editor:x,className:"bs-[105px] overflow-y-auto flex border-bs"}),(0,a.jsxs)("div",{className:"plb-4 pli-5 flex justify-between items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 max-sm:gap-3",children:[i?(0,a.jsx)(k.default,{color:"primary",variant:"contained",children:(0,a.jsx)("i",{className:"tabler-send"})}):(0,a.jsx)(f.default,{variant:"contained",endIcon:(0,a.jsx)("i",{className:"tabler-send"}),onClick:()=>l(!1),children:"Send"}),(0,a.jsx)(g.default,{size:"small",children:(0,a.jsx)("i",{className:"tabler-paperclip text-textSecondary"})})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(g.default,{size:"small",children:(0,a.jsx)("i",{className:"tabler-dots-vertical text-textSecondary"})}),(0,a.jsx)(g.default,{size:"small",onClick:()=>l(!1),children:(0,a.jsx)("i",{className:"tabler-trash text-textSecondary"})})]})]})]})};var P=l(55981),L=l(62993),M=l.n(L);let B={inbox:"tabler-mail",sent:"tabler-send",draft:"tabler-edit",starred:"tabler-star",spam:"tabler-alert-octagon",trash:"tabler-trash"},R={personal:{color:"success",colorClass:"text-success"},company:{color:"primary",colorClass:"text-primary"},important:{color:"warning",colorClass:"text-warning"},private:{color:"error",colorClass:"text-error"}},_=({children:e,isBelowLgScreen:t})=>t?(0,a.jsx)("div",{className:"bs-full overflow-y-auto overflow-x-hidden",children:e}):(0,a.jsx)(b(),{options:{wheelPropagation:!1},children:e}),T=e=>{let{store:t,isBelowLgScreen:l,isBelowMdScreen:i,isBelowSmScreen:r,sidebarOpen:n,setSidebarOpen:o,uniqueLabels:d,folder:x,label:j}=e,[b,g]=(0,s.useState)(!1),v=t.emails.reduce((e,t)=>(t.isRead||"trash"===t.folder?"draft"===t.folder&&(e.draft=(e.draft||0)+1):e[t.folder]=(e[t.folder]||0)+1,e),{});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(p.Ay,{open:n,onClose:()=>o(!1),className:"bs-full",variant:i?"persistent":"permanent",ModalProps:{disablePortal:!0,keepMounted:!0},sx:{zIndex:i&&n?11:10,position:i?"absolute":"static","& .MuiDrawer-paper":{boxShadow:"none",overflow:"hidden",width:"260px",position:i?"absolute":"static"}},children:[(0,a.jsx)(u.default,{children:(0,a.jsx)(f.default,{color:"primary",variant:"contained",fullWidth:!0,onClick:()=>g(!0),children:"Compose"})}),(0,a.jsxs)(_,{isBelowLgScreen:l,children:[(0,a.jsx)("div",{className:"flex flex-col gap-1 plb-4",children:Object.entries(B).map(([e,t])=>(0,a.jsxs)(m(),{href:`/apps/email/${e}`,prefetch:!0,className:c()("flex items-center justify-between plb-1 pli-6 gap-2.5 min-bs-8 cursor-pointer",{[M().activeSidebarListItem]:e===x&&!j}),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,a.jsx)("i",{className:c()(t,"text-xl")}),(0,a.jsx)(h.default,{className:"capitalize",color:"inherit",children:e})]}),v[e]&&(0,a.jsx)(P.A,{label:v[e],size:"small",round:"true",variant:"tonal",color:"inbox"===e?"primary":"draft"===e?"warning":"spam"===e?"error":"default"})]},e))}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 plb-4",children:[(0,a.jsx)(h.default,{variant:"caption",className:"uppercase pli-6",children:"Labels"}),(0,a.jsx)("div",{className:"flex flex-col gap-3",children:d.map(e=>(0,a.jsxs)(m(),{href:`/apps/email/label/${e}`,prefetch:!0,className:c()("flex items-center gap-x-2 pli-6 cursor-pointer",{[M().activeSidebarListItem]:e===j}),children:[(0,a.jsx)("i",{className:c()("tabler-circle-filled text-xs",R[e].colorClass)}),(0,a.jsx)(h.default,{className:"capitalize",color:"inherit",children:e})]},e))})]})]})]}),(0,a.jsx)(z,{openCompose:b,setOpenCompose:g,isBelowSmScreen:r,isBelowMdScreen:i})]})},E=e=>{let{isBelowScreen:t,searchTerm:l,setSidebarOpen:s,setBackdropOpen:i,setSearchTerm:r}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-1 is-full pli-4 border-be",children:[t&&(0,a.jsx)(g.default,{onClick:()=>{s(!0),i(!0)},children:(0,a.jsx)("i",{className:"tabler-menu-2 text-textSecondary"})}),(0,a.jsx)(v.Ay,{fullWidth:!0,value:l,onChange:e=>r(e.target.value),startAdornment:(0,a.jsx)("i",{className:"tabler-search text-textSecondary mie-4"}),placeholder:"Search mail",className:"bs-[56px]"})]})};var F=l(7495),O=l(29537),D=l(14509);let W=e=>{let{areFilteredEmailsNone:t,selectedEmails:l,setSelectedEmails:s,emails:i,folder:r,label:n,uniqueLabels:o,setReload:x,dispatch:m}=e,p=l.size>0&&l.size===i.length,u=l.size>0&&l.size<i.length,f=()=>{let e=i.filter(e=>l.has(e.id)).map(e=>e.id);m((0,d.iW)({emailIds:e,folder:"spam"})),s(new Set)},h=()=>{let e=i.filter(e=>l.has(e.id)).map(e=>e.id);m((0,d.iW)({emailIds:e,folder:"inbox"})),s(new Set)},j=e=>{let t=i.filter(e=>l.has(e.id)).map(e=>e.id);m((0,d.F0)({emailIds:t,label:e})),s(new Set)};return(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 max-sm:gap-0.5 is-full pli-4 plb-2 border-be",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 max-sm:gap-0.5",children:[(0,a.jsx)(F.default,{indeterminate:u,checked:p,onChange:()=>{p?s(new Set):s(new Set(i.filter(e=>"starred"===r&&"trash"!==e.folder?e.isStarred:n&&o.includes(n)&&"trash"!==e.folder?e.labels.includes(n):e.folder===r).map(e=>e.id)))},disabled:t}),(u||p)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.default,{title:"trash"===r?"Delete":"Move to trash",placement:"top",children:(0,a.jsx)(g.default,{onClick:()=>{let e=i.filter(e=>l.has(e.id)).map(e=>e.id);"trash"===r?m((0,d.vT)({emailIds:e})):m((0,d.iW)({emailIds:e,folder:"trash"})),s(new Set)},children:(0,a.jsx)("i",{className:"tabler-trash text-textSecondary"})})}),(0,a.jsx)(O.default,{title:l.size>0&&i.filter(e=>l.has(e.id)).every(e=>e.isRead)?"Mark as unread":"Mark as read",placement:"top",children:(0,a.jsx)(g.default,{onClick:()=>{let e=i.filter(e=>l.has(e.id)).map(e=>e.id);m((0,d.Ur)({emailIds:e})),s(new Set)},children:(0,a.jsx)("i",{className:c()("text-textSecondary",l.size>0&&i.filter(e=>l.has(e.id)).every(e=>e.isRead)?"tabler-mail":"tabler-mail-opened")})})}),"inbox"===r&&(0,a.jsx)(O.default,{title:"Move to spam",placement:"top",children:(0,a.jsx)(g.default,{onClick:f,children:(0,a.jsx)("i",{className:"tabler-info-circle text-textSecondary"})})}),"spam"===r&&(0,a.jsx)(O.default,{title:"Move to inbox",placement:"top",children:(0,a.jsx)(g.default,{onClick:h,children:(0,a.jsx)("i",{className:"tabler-inbox text-textSecondary"})})}),"trash"===r&&(0,a.jsx)(D.default,{tooltipProps:{title:"Move to folder",placement:"top"},icon:(0,a.jsx)("i",{className:"tabler-folder text-textSecondary"}),iconButtonProps:{size:"medium"},options:[{text:"Spam",icon:(0,a.jsx)("i",{className:"tabler-info-circle"}),menuItemProps:{onClick:f}},{text:"Inbox",icon:(0,a.jsx)("i",{className:"tabler-inbox"}),menuItemProps:{onClick:h}}]}),(0,a.jsx)(D.default,{tooltipProps:{title:"Toggle label",placement:"top"},icon:(0,a.jsx)("i",{className:"tabler-tag text-textSecondary"}),iconButtonProps:{size:"medium"},options:Object.entries(R).map(([e,t])=>({text:e.charAt(0).toUpperCase()+e.slice(1),menuItemProps:{onClick:()=>j(e)},icon:(0,a.jsx)("i",{className:`tabler-circle-filled text-xs text-${t.color}`})}))})]})]}),(0,a.jsxs)("div",{className:"flex gap-1 max-sm:gap-0.5",children:[(0,a.jsx)(O.default,{title:"Refresh",placement:"top",children:(0,a.jsx)(g.default,{onClick:()=>{x(!0),setTimeout(()=>{x(!1)},2e3)},children:(0,a.jsx)("i",{className:"tabler-refresh text-textSecondary"})})}),(0,a.jsx)(g.default,{children:(0,a.jsx)("i",{className:"tabler-dots-vertical text-textSecondary"})})]})]})};var U=l(74016),$=l(97228);let H=({children:e,isBelowLgScreen:t})=>t?(0,a.jsx)("div",{className:"bs-full overflow-y-auto overflow-x-hidden relative",children:e}):(0,a.jsx)(b(),{options:{wheelPropagation:!1},children:e}),q=e=>{let{isInitialMount:t,isBelowSmScreen:l,isBelowLgScreen:s,reload:i,areFilteredEmailsNone:n,searchTerm:o,selectedEmails:x,dispatch:m,store:p,emails:u,folder:f,setSelectedEmails:j,setDrawerOpen:b,handleToggleStarEmail:v,handleSingleEmailDelete:y,handleToggleIsReadStatus:N}=e,S=e=>{j(t=>{let l=new Set(t);return l.has(e)?l.delete(e):l.add(e),l})},w=(e,t)=>{e.stopPropagation(),m((0,d.iW)({emailIds:[t],folder:"spam"}))},C=e=>{b(!0),(p.currentEmailId!==e||u.find(t=>t.id===e)?.isRead===!1)&&m((0,d.kb)(e))};return t?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 grow is-full",children:[(0,a.jsx)(U.default,{}),(0,a.jsx)(h.default,{children:"Loading..."})]}):n?(0,a.jsxs)("div",{className:"relative flex justify-center gap-2 grow is-full bg-backgroundPaper",children:[(0,a.jsx)(h.default,{className:"m-3",children:"No emails found!"}),i&&(0,a.jsx)(r.A,{open:i,className:"absolute text-white z-10 bg-textDisabled",children:(0,a.jsx)(U.default,{color:"inherit"})})]}):(0,a.jsxs)("div",{className:"relative overflow-hidden grow is-full",children:[(0,a.jsx)(H,{isBelowLgScreen:s,children:(0,a.jsx)("div",{className:"flex flex-col",children:u.filter(e=>e.subject.toLowerCase().includes(o.toLowerCase())||e.from.name.toLowerCase().includes(o.toLowerCase())).map(e=>(0,a.jsx)("div",{className:c()("p-4 cursor-pointer",M().emailList,{"bg-actionHover":e.isRead}),onClick:()=>C(e.id),children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden",children:[(0,a.jsx)(F.default,{checked:x.has(e.id),onChange:()=>S(e.id),onClick:e=>e.stopPropagation()}),(0,a.jsx)(g.default,{onClick:t=>v(t,e.id),children:(0,a.jsx)("i",{className:c()("tabler-star",e.isStarred?"text-warning":"text-textSecondary")})}),(0,a.jsx)($.default,{src:e.from.avatar,alt:e.from.name,size:32}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center overflow-hidden",children:[(0,a.jsx)(h.default,{className:"font-medium whitespace-nowrap",color:"text.primary",children:e.from.name}),(0,a.jsx)(h.default,{variant:"body2",noWrap:!0,children:e.subject})]})]}),!l&&(0,a.jsxs)("div",{className:c()("flex items-center gap-2",M().emailInfo,{[M().show]:s}),children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:e.labels.map(e=>(0,a.jsx)("i",{className:c()("tabler-circle-filled text-[10px]",R[e].colorClass)},e))}),(0,a.jsx)(h.default,{variant:"body2",color:"text.disabled",className:"whitespace-nowrap",children:new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).format(new Date(e.time))})]}),!s&&(0,a.jsxs)("div",{className:M().emailActions,children:[(0,a.jsx)(O.default,{title:"trash"===f?"Delete":"Move to trash",placement:"top",children:(0,a.jsx)(g.default,{onClick:t=>y(t,e.id),children:(0,a.jsx)("i",{className:"tabler-trash text-textSecondary"})})}),(0,a.jsx)(O.default,{title:e.isRead?"Mark as unread":"Mark as read",placement:"top",children:(0,a.jsx)(g.default,{onClick:t=>{N(t,e.id),j(new Set)},children:(0,a.jsx)("i",{className:c()("text-textSecondary",e.isRead?"tabler-mail":"tabler-mail-opened")})})}),("inbox"===f||"trash"===f)&&(0,a.jsx)(O.default,{title:"Move to spam",placement:"top",children:(0,a.jsx)(g.default,{onClick:t=>w(t,e.id),children:(0,a.jsx)("i",{className:"tabler-info-circle text-textSecondary"})})})]})]})},e.id))})}),i&&(0,a.jsx)(r.A,{open:i,className:"absolute text-white z-10 bg-textDisabled",children:(0,a.jsx)(U.default,{color:"inherit"})})]})};var G=l(84477),J=l(40404),K=l(35884),V=l(89674),Z=l(52095);let X=({data:e,isReplies:t})=>(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(h.default,{color:"text.disabled",children:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).format(new Date(e.time))}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[e.attachments.length?(0,a.jsx)(g.default,{children:(0,a.jsx)("i",{className:"tabler-paperclip text-textSecondary"})}):null,t?(0,a.jsx)(D.default,{iconClassName:"text-textSecondary",iconButtonProps:{size:"medium"},options:[{text:"Reply",icon:"tabler-arrow-back-up"},{text:"Forward",icon:"tabler-arrow-forward-up"}]}):(0,a.jsx)(g.default,{children:(0,a.jsx)("i",{className:"tabler-dots-vertical text-textSecondary"})})]})]}),Q=({data:e,isReplies:t})=>(0,a.jsxs)(G.default,{className:"border",children:[(0,a.jsxs)(u.default,{className:"flex is-full gap-4",children:[(0,a.jsx)($.default,{src:e.from.avatar,size:38,alt:e.from.name}),(0,a.jsxs)("div",{className:"flex items-center justify-between flex-wrap grow gap-x-4 gap-y-2",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(h.default,{color:"text.primary",children:e.from.name}),(0,a.jsx)(h.default,{variant:"body2",children:e.from.email})]}),(0,a.jsx)(X,{data:e,isReplies:t})]})]}),(0,a.jsx)(Z.default,{}),(0,a.jsxs)(u.default,{children:[(0,a.jsx)("div",{className:c()("text-textSecondary",M().message),dangerouslySetInnerHTML:{__html:e.message}}),e.attachments.length?(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("hr",{className:"border-be -mli-6 mbs-4"}),(0,a.jsx)(h.default,{variant:"caption",children:"Attachments"}),e.attachments.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("img",{src:e.thumbnail,alt:e.fileName,className:"bs-6"}),(0,a.jsx)(h.default,{children:e.fileName})]},e.fileName))]}):null]})]}),Y=({children:e,isBelowLgScreen:t})=>t?(0,a.jsx)("div",{className:"bs-full overflow-y-auto overflow-x-hidden bg-actionHover",children:e}):(0,a.jsx)(b(),{className:"bg-actionHover",options:{wheelPropagation:!1},children:e}),ee=(0,K.Ay)("div")(({drawerOpen:e})=>({display:"flex",flexDirection:"column",blockSize:"100%",inlineSize:"100%",position:"absolute",top:0,right:e?0:"-100%",zIndex:11,overflow:"hidden",background:"var(--mui-palette-background-paper)",transition:"right 0.3s ease"})),et=({editor:e})=>e?(0,a.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 pli-6",children:[(0,a.jsx)(k.default,{...e.isActive("bold")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().toggleBold().run(),children:(0,a.jsx)("i",{className:c()("tabler-bold",{"text-textPrimary":!e.isActive("bold")})})}),(0,a.jsx)(k.default,{...e.isActive("underline")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().toggleUnderline().run(),children:(0,a.jsx)("i",{className:c()("tabler-underline",{"text-textPrimary":!e.isActive("underline")})})}),(0,a.jsx)(k.default,{...e.isActive("italic")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().toggleItalic().run(),children:(0,a.jsx)("i",{className:c()("tabler-italic",{"text-textPrimary":!e.isActive("italic")})})}),(0,a.jsx)(k.default,{...e.isActive("strike")&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().toggleStrike().run(),children:(0,a.jsx)("i",{className:c()("tabler-strikethrough",{"text-textPrimary":!e.isActive("strike")})})}),(0,a.jsx)(k.default,{...e.isActive({textAlign:"left"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().setTextAlign("left").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-left",{"text-textPrimary":!e.isActive({textAlign:"left"})})})}),(0,a.jsx)(k.default,{...e.isActive({textAlign:"center"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().setTextAlign("center").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-center",{"text-textPrimary":!e.isActive({textAlign:"center"})})})}),(0,a.jsx)(k.default,{...e.isActive({textAlign:"right"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().setTextAlign("right").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-right",{"text-textPrimary":!e.isActive({textAlign:"right"})})})}),(0,a.jsx)(k.default,{...e.isActive({textAlign:"justify"})&&{color:"primary"},variant:"tonal",size:"small",onClick:()=>e.chain().focus().setTextAlign("justify").run(),children:(0,a.jsx)("i",{className:c()("tabler-align-justified",{"text-textPrimary":!e.isActive({textAlign:"justify"})})})})]}):null,el=e=>{let{drawerOpen:t,setDrawerOpen:l,isBelowSmScreen:i,isBelowLgScreen:r,currentEmail:n,emails:o,folder:x,label:m,dispatch:p,handleSingleEmailDelete:j,handleToggleIsReadStatus:b,handleToggleStarEmail:v}=e,[A,I]=(0,s.useState)(!1),[z,L]=(0,s.useState)(!1),B=e=>{p((0,d.JX)({type:e,emails:o,currentEmailId:n?.id})),z&&L(!1)},_=()=>{p((0,d.iW)({emailIds:[n?.id],folder:"spam"})),l(!1)},T=()=>{p((0,d.iW)({emailIds:[n?.id],folder:"inbox"})),l(!1)},E=e=>{p((0,d.F0)({emailIds:[n?.id],label:e})),m===e&&l(!1)},F=(0,y.hG)({extensions:[N.W,w.O.configure({placeholder:"Write your message..."}),C.n.configure({types:["heading","paragraph"]}),S.z],immediatelyRender:!1});return(0,a.jsx)(ee,{drawerOpen:t,children:n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"plb-4 pli-6",children:(0,a.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center overflow-hidden",children:[(0,a.jsx)(g.default,{onClick:()=>{l(!1),z&&L(!1)},children:(0,a.jsx)(V.default,{ltrIconClass:"tabler-chevron-left",rtlIconClass:"tabler-chevron-right",className:"text-textSecondary"})}),(0,a.jsxs)("div",{className:"flex items-center flex-wrap gap-2 overflow-hidden",children:[(0,a.jsx)(h.default,{color:"text.primary",noWrap:!0,children:n.subject}),(0,a.jsx)("div",{className:"flex items-center flex-wrap gap-2",children:n.labels&&n.labels.length?n.labels.map(e=>(0,a.jsx)(P.A,{variant:"tonal",round:"true",size:"small",label:e,color:R[e].color,className:"capitalize"},e)):null})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.default,{disabled:n.id===o[0].id,onClick:()=>B("prev"),children:(0,a.jsx)(V.default,{ltrIconClass:"tabler-chevron-left",rtlIconClass:"tabler-chevron-right",className:"text-textSecondary"})}),(0,a.jsx)(g.default,{disabled:n.id===o[o.length-1].id,onClick:()=>B("next"),children:(0,a.jsx)(V.default,{ltrIconClass:"tabler-chevron-right",rtlIconClass:"tabler-chevron-left",className:"text-textSecondary"})})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 plb-2 pli-6 border-y",children:[(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(O.default,{title:"trash"===x?"Delete":"Move to trash",placement:"top",children:(0,a.jsx)(g.default,{onClick:e=>{l(!1),j(e,n.id)},children:(0,a.jsx)("i",{className:"tabler-trash text-textSecondary"})})}),(0,a.jsx)(O.default,{title:"Mark as unread",placement:"top",children:(0,a.jsx)(g.default,{onClick:e=>{l(!1),b(e,n.id)},children:(0,a.jsx)("i",{className:"tabler-mail text-textSecondary"})})}),"inbox"===x&&(0,a.jsx)(O.default,{title:"Move to spam",placement:"top",children:(0,a.jsx)(g.default,{onClick:_,children:(0,a.jsx)("i",{className:"tabler-info-circle text-textSecondary"})})}),"spam"===x&&(0,a.jsx)(O.default,{title:"Move to inbox",placement:"top",children:(0,a.jsx)(g.default,{onClick:T,children:(0,a.jsx)("i",{className:"tabler-inbox text-textSecondary"})})}),"trash"===x&&(0,a.jsx)(D.default,{tooltipProps:{title:"Move to folder",placement:"top"},icon:(0,a.jsx)("i",{className:"tabler-folder text-textSecondary"}),iconButtonProps:{size:"medium"},options:[{text:"Spam",icon:(0,a.jsx)("i",{className:"tabler-info-circle"}),menuItemProps:{onClick:_}},{text:"Inbox",icon:(0,a.jsx)("i",{className:"tabler-inbox"}),menuItemProps:{onClick:T}}]}),(0,a.jsx)(D.default,{tooltipProps:{title:"Toggle label",placement:"top"},icon:(0,a.jsx)("i",{className:"tabler-tag text-textSecondary"}),iconButtonProps:{size:"medium"},options:Object.entries(R).map(([e,t])=>({text:e.charAt(0).toUpperCase()+e.slice(1),menuItemProps:{onClick:()=>E(e)},icon:(0,a.jsx)("i",{className:`tabler-circle-filled text-xs text-${t.color}`})}))})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(g.default,{onClick:e=>{v(e,n.id),"starred"===x&&l(!1)},children:(0,a.jsx)("i",{className:c()("tabler-star",n.isStarred?"text-warning":"text-textSecondary")})}),n.replies.length?(0,a.jsx)(g.default,{onClick:()=>I(!A),children:(0,a.jsx)("i",{className:c()("text-textSecondary",{"tabler-arrows-move-vertical":!A,"tabler-fold":A})})}):null,(0,a.jsx)(g.default,{children:(0,a.jsx)("i",{className:"tabler-dots-vertical text-textSecondary"})})]})]}),(0,a.jsx)(Y,{isBelowLgScreen:r,children:(0,a.jsxs)("div",{className:"plb-5 pli-8 flex flex-col gap-4",children:[n.replies.length&&!A?(0,a.jsx)(h.default,{className:"self-center text-center cursor-pointer",onClick:()=>I(!0),children:`${n.replies.length} Earlier Messages`}):null,A?n.replies.map(e=>(0,a.jsx)(Q,{data:e,isReplies:!1},e.id)):null,(0,a.jsxs)("div",{children:[!A&&n.replies.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:c()(M().mailReplyLayer,M().layer1),onClick:()=>I(!0)}),(0,a.jsx)("div",{className:c()(M().mailReplyLayer,M().layer2),onClick:()=>I(!0)})]}):null,(0,a.jsx)(Q,{data:n,isReplies:!0}),(0,a.jsx)(G.default,{className:"border mbs-4",children:z?(0,a.jsxs)("div",{className:"flex flex-col gap-y-6",children:[(0,a.jsx)(u.default,{className:"pbe-0",children:(0,a.jsx)(h.default,{color:"text.primary",children:`Reply to ${n.from.name}`})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(et,{editor:F}),(0,a.jsx)(y.$Z,{editor:F,className:"overflow-y-auto"})]}),(0,a.jsxs)(J.default,{className:"flex items-center justify-end pbs-0",children:[(0,a.jsx)(g.default,{children:(0,a.jsx)("i",{className:"tabler-trash text-textSecondary",onClick:()=>L(!1)})}),i?(0,a.jsx)(k.default,{color:"secondary",children:(0,a.jsx)("i",{className:"tabler-paperclip text-textPrimary"})}):(0,a.jsx)(f.default,{color:"secondary",startIcon:(0,a.jsx)("i",{className:"tabler-paperclip text-textPrimary"}),children:"Attachments"}),i?(0,a.jsx)(k.default,{variant:"contained",color:"primary",children:(0,a.jsx)("i",{className:"tabler-send"})}):(0,a.jsx)(f.default,{variant:"contained",color:"primary",endIcon:(0,a.jsx)("i",{className:"tabler-send"}),children:"Send"})]})]}):(0,a.jsx)(u.default,{children:(0,a.jsxs)(h.default,{children:["Click here to",(0,a.jsx)("span",{className:"text-primary cursor-pointer mli-1",onClick:()=>L(!0),children:"Reply"}),"or",(0,a.jsx)("span",{className:"text-primary cursor-pointer mis-1",children:"Forward"})]})})})]})]})})]})})},ea=e=>{let{folder:t,label:l,store:i,dispatch:r,uniqueLabels:n,isInitialMount:c,setSidebarOpen:o,isBelowLgScreen:x,isBelowMdScreen:m,isBelowSmScreen:p,setBackdropOpen:u}=e,[f,h]=(0,s.useState)(new Set),[j,b]=(0,s.useState)(!1),[g,v]=(0,s.useState)(!1),[y,N]=(0,s.useState)(""),S=i.filteredEmails,w=S.find(e=>e.id===i.currentEmailId),C=0===S.length||0===S.filter(e=>e.subject.toLowerCase().includes(y.toLowerCase())||e.from.name.toLowerCase().includes(y.toLowerCase())).length,k=(e,l)=>{e.stopPropagation(),h(e=>{let t=new Set(e);return t.delete(l),t}),"trash"===t?r((0,d.vT)({emailIds:[l]})):r((0,d.iW)({emailIds:[l],folder:"trash"}))},A=(e,t)=>{e.stopPropagation(),r((0,d.Ur)({emailIds:[t]}))},I=(e,t)=>{e.stopPropagation(),r((0,d.vU)({emailId:t}))};return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center is-full bs-full relative overflow-hidden bg-backgroundPaper",children:[(0,a.jsx)(E,{isBelowScreen:m,searchTerm:y,setSidebarOpen:o,setBackdropOpen:u,setSearchTerm:N}),(0,a.jsx)(W,{areFilteredEmailsNone:C,selectedEmails:f,setSelectedEmails:h,emails:S,folder:t,label:l,uniqueLabels:n,setReload:v,dispatch:r}),(0,a.jsx)(q,{isInitialMount:c,isBelowSmScreen:p,isBelowLgScreen:x,reload:g,areFilteredEmailsNone:C,searchTerm:y,selectedEmails:f,dispatch:r,store:i,emails:S,folder:t,setSelectedEmails:h,setDrawerOpen:b,handleToggleStarEmail:I,handleSingleEmailDelete:k,handleToggleIsReadStatus:A}),(0,a.jsx)(el,{drawerOpen:j,setDrawerOpen:b,isBelowSmScreen:p,isBelowLgScreen:x,currentEmail:w,emails:S,folder:t,label:l,dispatch:r,handleSingleEmailDelete:k,handleToggleIsReadStatus:A,handleToggleStarEmail:I})]})};var es=l(25872);let ei=({folder:e,label:t})=>{let[l,n]=(0,s.useState)(!1),[x,m]=(0,s.useState)(!1),p=(0,s.useRef)(!0),{settings:u}=(0,A.t)(),f=(0,o.d4)(e=>e.emailReducer),h=(0,o.wA)(),j=(0,i.A)(e=>e.breakpoints.down("lg")),b=(0,i.A)(e=>e.breakpoints.down("md")),g=(0,i.A)(e=>e.breakpoints.down("sm")),v=[...new Set(f.emails.flatMap(e=>e.labels))];return(0,s.useEffect)(()=>{p.current&&(p.current=!1)},[]),(0,s.useEffect)(()=>{h((0,d.Of)({emails:f.emails,folder:e,label:t,uniqueLabels:v}))},[f.emails,e,t]),(0,s.useEffect)(()=>{x&&!l&&m(!1)},[l]),(0,s.useEffect)(()=>{x&&!b&&m(!1),l&&!b&&n(!1)},[b]),(0,a.jsxs)("div",{className:c()(es.o.contentHeightFixed,"flex is-full overflow-hidden rounded relative",{border:"bordered"===u.skin,"shadow-md":"bordered"!==u.skin}),children:[(0,a.jsx)(T,{store:f,isBelowLgScreen:j,isBelowMdScreen:b,isBelowSmScreen:g,sidebarOpen:l,setSidebarOpen:n,folder:e,uniqueLabels:v,label:t||""}),(0,a.jsx)(r.A,{open:x,onClick:()=>{n(!1),m(!1)},className:"absolute z-10"}),(0,a.jsx)(ea,{store:f,dispatch:h,folder:e,label:t,uniqueLabels:v,isInitialMount:p.current,setSidebarOpen:n,isBelowLgScreen:j,isBelowMdScreen:b,isBelowSmScreen:g,setBackdropOpen:m})]})}},62993:e=>{e.exports={activeSidebarListItem:"styles_activeSidebarListItem__pBdqo",emailList:"styles_emailList__yHms4",emailInfo:"styles_emailInfo__IIbJf",show:"styles_show__lvFB5",emailActions:"styles_emailActions__h2PS1",message:"styles_message__LkVz3",mailReplyLayer:"styles_mailReplyLayer__O4qDe",layer1:"styles_layer1__rrIAw",layer2:"styles_layer2__O9Ph4"}},91541:(e,t,l)=>{"use strict";l.d(t,{default:()=>a});let a=(0,l(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/samsulanwar/Documents/Kerja/Freelance/pesantren-fe/src/views/apps/email/index.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/samsulanwar/Documents/Kerja/Freelance/pesantren-fe/src/views/apps/email/index.tsx","default")},66134:()=>{}};