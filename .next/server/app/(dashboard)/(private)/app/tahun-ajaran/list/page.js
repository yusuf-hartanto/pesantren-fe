(()=>{var e={};e.id=4651,e.ids=[4651],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},73496:e=>{"use strict";e.exports=require("http2")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},11723:e=>{"use strict";e.exports=require("querystring")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},8645:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>c,tree:()=>u});var a=r(70260),s=r(28203),n=r(25155),i=r.n(n),o=r(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let u=["",{children:["(dashboard)",{children:["(private)",{children:["app",{children:["tahun-ajaran",{children:["list",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1520)),"/Users/samsulanwar/Documents/Kerja/Freelance/pesantren-fe/src/app/(dashboard)/(private)/app/tahun-ajaran/list/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,11088)),"/Users/samsulanwar/Documents/Kerja/Freelance/pesantren-fe/src/app/(dashboard)/(private)/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"/Users/samsulanwar/Documents/Kerja/Freelance/pesantren-fe/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/samsulanwar/Documents/Kerja/Freelance/pesantren-fe/src/app/(dashboard)/(private)/app/tahun-ajaran/list/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},c=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(dashboard)/(private)/app/tahun-ajaran/list/page",pathname:"/app/tahun-ajaran/list",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},2239:(e,t,r)=>{Promise.resolve().then(r.bind(r,1520))},39191:(e,t,r)=>{Promise.resolve().then(r.bind(r,42668))},42668:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var a=r(45512),s=r(58009),n=r(28531),i=r.n(n),o=r(79334),l=r(24876),u=r(84477),d=r(44708),p=r(18782),c=r(35357),h=r(29537),m=r(57799),x=r(74167),f=r(48420),j=r(38953),v=r(87999),g=r(38031),b=r(44750),A=r(76892),k=r(31999),w=r(60969),P=r(45427),q=r(55981),C=r(90508);r(73456);var _=r(4322);let y={Aktif:{color:"success",value:"Aktif"},Nonaktif:{color:"secondary",value:"Nonaktif"},Arsip:{color:"secondary",value:"Arsip"}};function N(e){let[t,r]=(0,s.useState)(null),[n,o]=(0,s.useState)(!1),l=(0,A.j)(),u=(0,_.I)("edit"),d=(0,_.I)("delete"),p=()=>{r(null)},c=()=>{p()},h=e=>{l((0,k.Nn)(e)),p()};return(0,a.jsxs)(f.default,{size:"small",children:[(0,a.jsx)(j.default,{"aria-controls":"long-menu",size:"small","aria-haspopup":"true",onClick:e=>{r(e.currentTarget)},children:(0,a.jsx)("i",{className:"tabler-dots-vertical"})}),(0,a.jsxs)(v.A,{keepMounted:!0,anchorEl:t,open:!!t,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{style:{minWidth:"8rem"}}},children:[(0,a.jsxs)(g.A,{component:i(),sx:{"& svg":{mr:2}},href:`/app/tahun-ajaran/form?id=${e.row.id_tahunajaran}&view=true`,onClick:c,children:[(0,a.jsx)("i",{className:"tabler-eye"}),"View"]}),u&&[(0,a.jsxs)(g.A,{component:i(),sx:{"& svg":{mr:2}},href:`/app/tahun-ajaran/form?id=${e.row.id_tahunajaran}`,onClick:c,children:[(0,a.jsx)("i",{className:"tabler-edit"}),"Edit"]},"edit"),"Nonaktif"==e.row.status&&(0,a.jsxs)(g.A,{onClick:()=>e.handleAktifOrArsip(e.row,"Aktif"),sx:{"& svg":{mr:2}},children:[(0,a.jsx)("i",{className:"tabler-toggle-right"}),"Set Aktif"]}),"Nonaktif"==e.row.status&&(0,a.jsxs)(g.A,{onClick:()=>e.handleAktifOrArsip(e.row,"Arsip"),sx:{"& svg":{mr:2}},children:[(0,a.jsx)("i",{className:"tabler-archive"}),"Arsip"]})],d&&(0,a.jsxs)(g.A,{onClick:()=>o(!0),sx:{"& svg":{mr:2}},children:[(0,a.jsx)("i",{className:"tabler-trash"}),"Delete"]}),(0,a.jsx)(C.A,{id:e.row.tahun_ajaran,open:n,onClose:(e,t)=>{"backdropClick"!==t&&o(!1)},handleOk:()=>{h(e.row.id_tahunajaran),o(!1)},handleClose:()=>{o(!1)},disableEscapeKeyDown:!0})]})]})}let S=()=>{let e=(0,o.useRouter)(),t=(0,A.j)(),r=(0,A.G)(e=>e.tahun_ajaran),n=(0,_.I)("create"),i=(0,_.I)("import"),f=(0,_.I)("export"),[j,v]=(0,s.useState)(""),[g,C]=(0,s.useState)(1),[S,E]=(0,s.useState)(10),[z,I]=(0,s.useState)(!1);(0,s.useEffect)(()=>{r.delete&&(t((0,k.RD)({page:1,perPage:S,q:j})),t((0,k.EG)()))},[t,j,S,r.delete]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{C(1),t((0,k.RD)({page:1,perPage:S,q:j}))},500);return()=>clearTimeout(e)},[t,j,S]);let R=(0,s.useCallback)((e,r)=>{C(r),t((0,k.RD)({page:r,perPage:S,q:j}))},[t,S,j]);(0,s.useEffect)(()=>{r.crud&&(r.crud.status?(b.oR.success("Success saved"),R(null,g),t((0,k.EG)())):b.oR.error("Error saved: "+r.crud.message))},[t,R,g,r.crud]);let T=async()=>{try{I(!0);let e=await t((0,k.RU)({q:j})).unwrap();if(e?.status&&e?.data){let t=`http://103.197.190.47:5001${e.data}`,r=document.createElement("a");r.href=t,r.download="",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}catch{b.oR.error("Gagal export data")}finally{I(!1)}},D=(e,r)=>{delete e.status_custom,t((0,k.dY)({id:e.id_tahunajaran,params:{...e,status:r}}))},G=e=>{let r=parseInt(e.target.value,10);C(1),E(r),t((0,k.RD)({page:1,perPage:r,q:j}))},K=e=>(0,a.jsx)(N,{row:e,handleAktifOrArsip:D});return(0,a.jsx)(l.default,{container:!0,spacing:6,sx:{width:"100%"},children:(0,a.jsx)(l.default,{size:12,children:(0,a.jsxs)(u.default,{children:[(0,a.jsx)(d.default,{title:"Tahun Ajaran",sx:{paddingBottom:0}}),(0,a.jsxs)(p.A,{sx:{px:"1.5rem !important",minHeight:"auto",gap:2,flexWrap:"wrap",mb:"10px"},children:[n&&(0,a.jsx)(h.default,{title:"Tambah",children:(0,a.jsx)(m.default,{size:"small",variant:"outlined",sx:{height:32,fontSize:"0.75rem",px:2},onClick:()=>{e.replace("/app/tahun-ajaran/form")},startIcon:(0,a.jsx)("i",{className:"tabler-plus"}),children:"Tambah"})}),i&&(0,a.jsx)(h.default,{title:"Import CSV",children:(0,a.jsx)(m.default,{size:"small",color:"success",variant:"outlined",sx:{height:32,fontSize:"0.75rem",px:2},onClick:()=>{e.replace("/app/tahun-ajaran/import")},startIcon:(0,a.jsx)("i",{className:"tabler-file-import"}),children:"Import CSV"})}),f&&(0,a.jsx)(h.default,{title:"Export CSV",children:(0,a.jsx)(m.default,{size:"small",color:"warning",variant:"outlined",sx:{height:32,fontSize:"0.75rem",px:2},onClick:T,startIcon:(0,a.jsx)("i",{className:"tabler-file-export"}),children:z?"Proses...":"Export CSV"})}),(0,a.jsx)(x.default,{sx:{flex:"1 1 auto"}}),(0,a.jsx)(h.default,{title:"Search",children:(0,a.jsx)(c.A,{id:"outlined-basic",label:"Search",size:"small",onChange:e=>{v(e.target.value)}})})]}),(0,a.jsx)(P.A,{model:(()=>{let{dataPage:e}=r;if(e){let{values:t,total:r}=e;return{page:g,fields:[(0,w.N)("OPTION","act-x","left",K),(0,w.N)("TAHUN AJARAN","tahun_ajaran"),(0,w.N)("STATUS","status_custom"),(0,w.N)("KETERANGAN","keterangan"),(0,w.N)("TERAKHIR DIUBAH","updated_at")],values:t?.map(e=>({...e,status_custom:a.jsx(q.A,{round:"true",size:"small",label:y[e.status]?.value,color:y[e.status]?.color,sx:{textTransform:"capitalize"}})})),count:r,perPage:S,changePage:(e,t)=>{R(e,t)},changePerPage:(e,t)=>{G(e)}}}})(),changeSort:null})]})})})}},4322:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var a=r(79334),s=r(90993),n=r(96956);function i(e){let{data:t}=(0,s.useSession)(),r=(0,a.usePathname)(),i=(0,n._Y)(r);return(0,n.$3)(t?.permissions,i,e)}},1520:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/samsulanwar/Documents/Kerja/Freelance/pesantren-fe/src/app/(dashboard)/(private)/app/tahun-ajaran/list/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/samsulanwar/Documents/Kerja/Freelance/pesantren-fe/src/app/(dashboard)/(private)/app/tahun-ajaran/list/page.tsx","default")}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,4512,1730,6263,8531,2878,9951,8789,684,8713,1825,8969,1727,7999,8145,1578,5357,4537,5754,2292,2751,7794,9286],()=>r(8645));module.exports=a})();